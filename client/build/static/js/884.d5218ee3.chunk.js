/*! For license information please see 884.d5218ee3.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[884],{3280:(e,a,t)=>{t.d(a,{A:()=>r});var s=t(5043),l=t(579);const r=e=>{let{label:a,id:t,type:r="text",value:n,onChange:d,placeholder:i,error:c,required:p,className:o="",inputClassName:m="",disabled:x=!1,prefix:h,prefixIcon:y,suffixIcon:u,helperText:g,containerStyle:f,...N}=e;return(0,l.jsxs)("div",{className:`mb-4 ${o}`,style:f,children:[a&&(0,l.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1",children:a}),(0,l.jsxs)("div",{className:"relative rounded-apple shadow-apple-sm",children:[h&&(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("span",{className:"text-apple-gray-500 sm:text-sm",children:h})}),y&&(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.cloneElement(y,{className:"h-5 w-5 text-apple-gray-500 dark:text-apple-gray-400"})}),(0,l.jsx)("input",{type:r,id:t,name:t||N.name,value:null===n||void 0===n?"":n,onChange:d,placeholder:i,required:p,disabled:x,className:`\n                        form-input block w-full sm:text-sm\n                        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\n                        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\n                        dark:placeholder-apple-gray-500 dark:focus:border-apple-blue\n                        rounded-apple shadow-apple-sm\n                        ${c?"border-apple-red focus:border-apple-red focus:ring-apple-red":""}\n                        ${h||y?"pl-10":"px-3"}\n                        ${u?"pr-10":"px-3"}\n                        ${m}\n                    `.trim().replace(/\s+/g," "),...N}),u&&(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u})]}),c&&(0,l.jsx)("p",{className:"mt-1.5 text-xs text-apple-red",children:c}),g&&!c&&(0,l.jsx)("p",{className:"mt-1.5 text-xs text-apple-gray-500 dark:text-apple-gray-400",children:g})]})}},4653:(e,a,t)=>{t.d(a,{H:()=>n});var s=t(4524),l=t(2440),r=t(2316);function n(e,a){const t=()=>(0,l.w)(a?.in,NaN),n=a?.additionalDigits??2,y=function(e){const a={},t=e.split(d.dateTimeDelimiter);let s;if(t.length>2)return a;/:/.test(t[0])?s=t[0]:(a.date=t[0],s=t[1],d.timeZoneDelimiter.test(a.date)&&(a.date=e.split(d.timeZoneDelimiter)[0],s=e.substr(a.date.length,e.length)));if(s){const e=d.timezone.exec(s);e?(a.time=s.replace(e[1],""),a.timezone=e[1]):a.time=s}return a}(e);let u;if(y.date){const e=function(e,a){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),s=e.match(t);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:null===r?l:100*r,restDateString:e.slice((s[1]||s[2]).length)}}(y.date,n);u=function(e,a){if(null===a)return new Date(NaN);const t=e.match(i);if(!t)return new Date(NaN);const s=!!t[4],l=o(t[1]),r=o(t[2])-1,n=o(t[3]),d=o(t[4]),c=o(t[5])-1;if(s)return function(e,a,t){return a>=1&&a<=53&&t>=0&&t<=6}(0,d,c)?function(e,a,t){const s=new Date(0);s.setUTCFullYear(e,0,4);const l=s.getUTCDay()||7,r=7*(a-1)+t+1-l;return s.setUTCDate(s.getUTCDate()+r),s}(a,d,c):new Date(NaN);{const e=new Date(0);return function(e,a,t){return a>=0&&a<=11&&t>=1&&t<=(x[a]||(h(e)?29:28))}(a,r,n)&&function(e,a){return a>=1&&a<=(h(e)?366:365)}(a,l)?(e.setUTCFullYear(a,r,Math.max(l,n)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!u||isNaN(+u))return t();const g=+u;let f,N=0;if(y.time&&(N=function(e){const a=e.match(c);if(!a)return NaN;const t=m(a[1]),l=m(a[2]),r=m(a[3]);if(!function(e,a,t){if(24===e)return 0===a&&0===t;return t>=0&&t<60&&a>=0&&a<60&&e>=0&&e<25}(t,l,r))return NaN;return t*s.s0+l*s.Cg+1e3*r}(y.time),isNaN(N)))return t();if(!y.timezone){const e=new Date(g+N),t=(0,r.a)(0,a?.in);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return f=function(e){if("Z"===e)return 0;const a=e.match(p);if(!a)return 0;const t="+"===a[1]?-1:1,l=parseInt(a[2]),r=a[3]&&parseInt(a[3])||0;if(!function(e,a){return a>=0&&a<=59}(0,r))return NaN;return t*(l*s.s0+r*s.Cg)}(y.timezone),isNaN(f)?t():(0,r.a)(g+N+f,a?.in)}const d={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p=/^([+-])(\d{2})(?::?(\d{2}))?$/;function o(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}const x=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400===0||e%4===0&&e%100!==0}},6260:(e,a,t)=>{t.d(a,{A:()=>l});t(5043);var s=t(579);const l=e=>{let{children:a,className:t="",title:l,actions:r,titleClassName:n="",contentClassName:d="",actionsClassName:i=""}=e;return(0,s.jsxs)("div",{className:`bg-white dark:bg-apple-gray-900 rounded-apple-lg shadow-apple overflow-hidden ${t}`,children:[l&&(0,s.jsx)("div",{className:`px-4 py-4 sm:px-6 border-b border-apple-gray-200 dark:border-apple-gray-800 ${n}`,children:"string"===typeof l?(0,s.jsx)("h3",{className:"text-lg leading-6 font-semibold text-apple-gray-900 dark:text-apple-gray-100",children:l}):l}),(0,s.jsx)("div",{className:`p-4 sm:p-6 ${d}`,children:a}),r&&(0,s.jsx)("div",{className:`px-4 py-3 sm:px-6 bg-apple-gray-50 dark:bg-apple-gray-950/50 border-t border-apple-gray-200 dark:border-apple-gray-800 ${i}`,children:r})]})}},6884:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(5043),l=t(1283),r=t(4117),n=t(9621),d=t(6260),i=t(722),c=t(7184),p=t(7457),o=t(6376);const m=(0,t(7784).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var x=t(7719),h=t(8666),y=t(4653),u=t(579);const g=()=>{const{t:e}=(0,r.Bd)(),[a,t]=(0,s.useState)(null),[g,f]=(0,s.useState)((0,h.GP)(new Date,"yyyy-MM-dd")),[N,b]=(0,s.useState)(!0),[j,v]=(0,s.useState)(""),w="FCFA",k=(0,s.useCallback)(async a=>{if(a){b(!0),v("");try{const{data:e}=await(0,n.P7)(a);t(e)}catch(r){var s,l;v((null===(s=r.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||e("dailyPayments.error",{date:a})),t(null)}finally{b(!1)}}},[]);(0,s.useEffect)(()=>{k(g)},[k]);return(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(o.A,{size:28,className:"text-apple-blue"}),(0,u.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold",children:e("dailyPayments.title")})]})}),(0,u.jsxs)(d.A,{children:[(0,u.jsx)("div",{className:"p-4 border-b dark:border-apple-gray-700",children:(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row items-end gap-4 max-w-md",children:[(0,u.jsx)("div",{className:"flex-grow w-full",children:(0,u.jsx)(c.A,{label:e("dailyPayments.selectDate"),id:"reportDate",value:g,onChange:e=>f(e.target.value),required:!0})}),(0,u.jsx)("div",{className:"flex-shrink-0 w-full sm:w-auto",children:(0,u.jsx)(i.A,{onClick:()=>{k(g)},isLoading:N,iconLeft:(0,u.jsx)(m,{size:16}),className:"w-full",children:e("dailyPayments.fetchReport")})})]})}),N&&(0,u.jsx)("div",{className:"p-6 flex justify-center",children:(0,u.jsx)(p.A,{size:"lg"})}),j&&(0,u.jsxs)("div",{className:"p-4 m-4 text-sm bg-red-100 text-apple-red rounded-apple flex items-center",children:[(0,u.jsx)(x.A,{size:18,className:"mr-2"}),j]}),a&&!N&&(0,u.jsxs)("div",{className:"p-4 space-y-6",children:[(0,u.jsx)("h3",{className:"text-xl font-semibold text-center",children:e("dailyPayments.reportFor",{date:(0,h.GP)((0,y.H)(a.date),"MMMM d, yyyy")})}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-center",children:[(0,u.jsxs)("div",{className:"p-4 bg-apple-gray-100 dark:bg-apple-gray-800 rounded-apple-md",children:[(0,u.jsx)("p",{className:"text-sm text-apple-gray-500 dark:text-apple-gray-400",children:e("dailyPayments.totalCollected")}),(0,u.jsxs)("p",{className:"text-2xl font-bold",children:[w,a.totalAmountCollected.toFixed(2)]})]}),(0,u.jsxs)("div",{className:"p-4 bg-apple-gray-100 dark:bg-apple-gray-800 rounded-apple-md",children:[(0,u.jsx)("p",{className:"text-sm text-apple-gray-500 dark:text-apple-gray-400",children:e("dailyPayments.numberOfTransactions")}),(0,u.jsx)("p",{className:"text-2xl font-bold",children:a.numberOfTransactions})]})]}),a.detailedTransactions&&a.detailedTransactions.length>0&&(0,u.jsxs)("div",{className:"mt-6",children:[(0,u.jsx)("h4",{className:"text-lg font-semibold mb-2",children:e("dailyPayments.detailedTransactions")}),(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full divide-y divide-apple-gray-200 dark:divide-apple-gray-700 text-sm",children:[(0,u.jsx)("thead",{className:"bg-apple-gray-50 dark:bg-apple-gray-800/50",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:e("dailyPayments.table.paymentTime")}),(0,u.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:e("dailyPayments.table.receiptNumber")}),(0,u.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:e("dailyPayments.table.customer")}),(0,u.jsx)("th",{className:"px-3 py-2 text-right font-semibold",children:e("dailyPayments.table.amountPaid")}),(0,u.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:e("dailyPayments.table.method")}),(0,u.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:e("dailyPayments.table.recordedBy")})]})}),(0,u.jsx)("tbody",{className:"divide-y divide-apple-gray-200 dark:divide-apple-gray-700",children:a.detailedTransactions.map((e,a)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,h.GP)((0,y.H)(e.paymentDate),"h:mm a")}),(0,u.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,u.jsx)(l.N_,{to:`/app/orders/${e.orderId}`,className:"text-apple-blue hover:underline",children:e.receiptNumber})}),(0,u.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:e.customerName}),(0,u.jsxs)("td",{className:"px-3 py-2 text-right whitespace-nowrap",children:[w,e.amountCollected.toFixed(2)]}),(0,u.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:e.paymentMethod}),(0,u.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:e.paymentRecordedByUsername})]},`${e.orderId}-${a}`))})]})})]}),0===a.detailedTransactions.length&&(0,u.jsx)("p",{className:"text-center text-sm text-apple-gray-500 py-6",children:e("dailyPayments.noTransactions")})]})]})]})}},7184:(e,a,t)=>{t.d(a,{A:()=>r});t(5043);var s=t(3280),l=t(579);const r=e=>{let{label:a,id:t,value:r,onChange:n,error:d,required:i,className:c="",...p}=e;return(0,l.jsx)(s.A,{label:a,id:t,type:"date",value:r,onChange:n,error:d,required:i,className:c,...p})}}}]);
//# sourceMappingURL=884.d5218ee3.chunk.js.map