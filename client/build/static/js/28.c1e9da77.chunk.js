/*! For license information please see 28.c1e9da77.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[28],{1286:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},4459:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4596:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},5028:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var t=s(5043),l=s(1283),r=s(9621),c=s(6260),i=s(722),d=s(7457),n=s(8148),p=s(7719),x=s(5469),m=s(4459),o=s(4596),h=s(1286),y=s(5327),u=s(8006),j=s(579);const N=e=>{let{label:a,value:s,className:t="",children:l}=e;return(0,j.jsxs)("div",{className:`py-3 sm:grid sm:grid-cols-3 sm:gap-4 border-b border-apple-gray-100 dark:border-apple-gray-800 px-4 sm:px-6 last:border-b-0 ${t}`,children:[" ",(0,j.jsx)("dt",{className:"text-sm font-medium text-apple-gray-500 dark:text-apple-gray-400",children:a}),(0,j.jsx)("dd",{className:"mt-1 text-sm text-apple-gray-900 dark:text-apple-gray-100 sm:mt-0 sm:col-span-2",children:l||s||(0,j.jsx)("span",{className:"italic text-apple-gray-400 dark:text-apple-gray-500",children:"N/A"})})]})},g=()=>{const{id:e}=(0,l.g)(),a=(0,l.Zp)(),[s,g]=(0,t.useState)(null),[v,A]=(0,t.useState)([]),[f,k]=(0,t.useState)(!0),[b,C]=(0,t.useState)(!0),[z,w]=(0,t.useState)(""),M=(0,t.useCallback)(async()=>{k(!0),w("");try{const{data:a}=await(0,r.FT)(e);g(a)}catch(l){var a,s,t;w(404===(null===(a=l.response)||void 0===a?void 0:a.status)?"Customer not found.":(null===(s=l.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to fetch customer details."),console.error("Fetch Customer Details Error:",l)}finally{k(!1)}},[e]),S=(0,t.useCallback)(async()=>{if(e){C(!0);try{const{data:a}=await(0,r.Gb)({customerId:e,pageSize:100});A(a.orders||[])}catch(a){console.error("Fetch Customer Orders Error:",a)}finally{C(!1)}}},[e]);return(0,t.useEffect)(()=>{M(),S()},[M,S]),!f||s||z?z&&!s?(0,j.jsx)("div",{className:"text-center py-10 max-w-xl mx-auto",children:(0,j.jsxs)(c.A,{children:[(0,j.jsx)(p.A,{size:48,className:"mx-auto text-apple-red mb-4"}),(0,j.jsx)("p",{className:"text-xl text-apple-red",children:z}),(0,j.jsx)(i.A,{onClick:()=>a("/customers"),variant:"secondary",className:"mt-6",children:"Back to Customers List"})]})}):s?(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)(l.N_,{to:"/customers",className:"p-1.5 rounded-full hover:bg-apple-gray-100 dark:hover:bg-apple-gray-800","aria-label":"Back to Customers List",children:(0,j.jsx)(x.A,{size:22,className:"text-apple-gray-600 dark:text-apple-gray-400"})}),(0,j.jsx)(m.A,{size:28,className:"text-apple-blue"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold text-apple-gray-800 dark:text-apple-gray-100",children:s.name}),(0,j.jsx)("p",{className:"text-sm text-apple-gray-500 dark:text-apple-gray-400",children:"Customer Profile & Order History"})]})]}),(0,j.jsx)(l.N_,{to:`/customers/${s._id}/edit`,children:(0,j.jsx)(i.A,{variant:"primary",iconLeft:(0,j.jsx)(o.A,{size:16}),children:"Edit Customer"})})]}),(0,j.jsxs)(c.A,{title:"Contact Information",contentClassName:"p-0",children:[" ",(0,j.jsxs)("dl",{className:"divide-y divide-apple-gray-100 dark:divide-apple-gray-800",children:[(0,j.jsx)(N,{label:"Full Name",value:s.name}),(0,j.jsx)(N,{label:"Phone Number",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(h.A,{size:14,className:"mr-2 text-apple-gray-400"}),s.phone?(0,j.jsx)("a",{href:`tel:${s.phone}`,className:"text-apple-blue hover:underline",children:s.phone}):(0,j.jsx)("span",{className:"italic text-apple-gray-400",children:"N/A"})]})}),(0,j.jsx)(N,{label:"Email Address",children:s.email?(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(y.A,{size:14,className:"mr-2 text-apple-gray-400"}),(0,j.jsx)("a",{href:`mailto:${s.email}`,className:"text-apple-blue hover:underline",children:s.email})]}):(0,j.jsx)("span",{className:"italic text-apple-gray-400",children:"N/A"})}),(0,j.jsx)(N,{label:"Address",children:s.address?(0,j.jsxs)("div",{className:"flex items-start",children:[" ",(0,j.jsx)(u.A,{size:14,className:"mr-2 mt-0.5 text-apple-gray-400 flex-shrink-0"}),(0,j.jsx)("span",{className:"whitespace-pre-line",children:s.address})]}):(0,j.jsx)("span",{className:"italic text-apple-gray-400",children:"N/A"})})]})]}),(0,j.jsxs)(c.A,{title:"Order History",contentClassName:"p-0",children:[" ",b?(0,j.jsx)("div",{className:"p-6 flex justify-center ",children:(0,j.jsx)(d.A,{})}):0===v.length?(0,j.jsx)("p",{className:"p-6 text-center text-sm text-apple-gray-500 dark:text-apple-gray-400",children:"This customer has no orders recorded."}):(0,j.jsx)(n.A,{orders:v})]})]}):(0,j.jsx)("div",{className:"text-center p-6 text-apple-gray-500",children:"Customer data could not be loaded."}):(0,j.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,j.jsx)(d.A,{size:"lg"})})}},5327:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},5469:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8006:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])}}]);
//# sourceMappingURL=28.c1e9da77.chunk.js.map