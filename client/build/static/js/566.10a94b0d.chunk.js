/*! For license information please see 566.10a94b0d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[566],{737:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},2284:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},2566:(e,a,s)=>{s.r(a),s.d(a,{default:()=>S});var l=s(5043),t=s(8517),i=s(9621),r=s(6260),n=s(722),c=s(7457),d=s(5873),o=s(3280),p=s(7719),m=s(737),u=s(579);const x=e=>{let{isOpen:a,onClose:s,onSubmit:t,listingToEdit:r=null,apiError:x,isLoading:h}=e;const[g,y]=(0,l.useState)({name:"",description:"",publicAddress:"",publicPhone:"",publicEmail:"",city:"",country:"",logoUrl:"",logoCloudinaryId:"",isActive:!0}),[b,j]=(0,l.useState)(""),[v,f]=(0,l.useState)(!1),[N,A]=(0,l.useState)(""),k=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(a)if(A(""),r){var e;const a={name:r.name||"",description:r.description||"",publicAddress:r.publicAddress||"",publicPhone:r.publicPhone||"",publicEmail:r.publicEmail||"",city:r.city||"",country:r.country||"",logoUrl:r.logoUrl||"",logoCloudinaryId:r.logoCloudinaryId||"",isActive:null===(e=r.isActive)||void 0===e||e};y(a),j(a.logoUrl)}else y({name:"",description:"",publicAddress:"",publicPhone:"",publicEmail:"",city:"",country:"",logoUrl:"",logoCloudinaryId:"",isActive:!0}),j("")},[a,r]);const C=e=>{const{name:a,value:s,type:l,checked:t}=e.target;y(e=>({...e,[a]:"checkbox"===l?t:s}))};return(0,u.jsx)(d.A,{isOpen:a,onClose:s,title:r?"Edit Directory Listing":"Create New Directory Listing",children:(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),A(""),g.name?await t(g):A("Business Name is a required field.")},className:"space-y-4",children:[(x||N)&&(0,u.jsxs)("div",{className:"p-3 text-sm bg-red-100 text-apple-red rounded-apple flex items-center",children:[(0,u.jsx)(p.A,{size:18,className:"mr-2"}),x||N]}),(0,u.jsx)(o.A,{label:"Business Name*",name:"name",value:g.name,onChange:C,required:!0}),(0,u.jsx)(o.A,{label:"Description",name:"description",value:g.description,onChange:C,multiline:!0,rows:3}),(0,u.jsx)(o.A,{label:"Address",name:"publicAddress",value:g.publicAddress,onChange:C}),(0,u.jsx)(o.A,{label:"Phone",name:"publicPhone",value:g.publicPhone,onChange:C}),(0,u.jsx)(o.A,{label:"Email",name:"publicEmail",type:"email",value:g.publicEmail,onChange:C}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsx)(o.A,{label:"City",name:"city",value:g.city,onChange:C}),(0,u.jsx)(o.A,{label:"Country",name:"country",value:g.country,onChange:C})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Business Logo"}),(0,u.jsxs)("div",{className:"mt-1 flex items-center gap-4",children:[(0,u.jsx)("div",{className:"w-20 h-20 rounded-lg bg-apple-gray-100 dark:bg-apple-gray-800 flex items-center justify-center overflow-hidden",children:v?(0,u.jsx)(c.A,{}):b?(0,u.jsx)("img",{src:b,alt:"Logo Preview",className:"w-full h-full object-cover"}):(0,u.jsx)(m.A,{size:24,className:"text-apple-gray-400"})}),(0,u.jsx)("input",{type:"file",ref:k,onChange:async e=>{const a=e.target.files[0];if(!a)return;if(a.size>2097152)return void A("File is too large. Please select an image under 2MB.");j(URL.createObjectURL(a)),f(!0),A("");const s=new FormData;s.append("logoImage",a);try{const{data:e}=await(0,i.RW)(s);y(a=>({...a,logoUrl:e.imageUrl,logoCloudinaryId:e.cloudinaryId}))}catch(n){var l,t;console.error("Logo upload failed:",n),A((null===(l=n.response)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.message)||"Logo upload failed. Please try again."),j((null===r||void 0===r?void 0:r.logoUrl)||"")}finally{f(!1)}},className:"hidden",accept:"image/png, image/jpeg, image/webp"}),(0,u.jsx)(n.A,{type:"button",variant:"secondary",onClick:()=>k.current.click(),disabled:v,children:v?"Uploading...":"Upload Image"})]})]}),(0,u.jsxs)("div",{className:"flex items-center pt-2",children:[(0,u.jsx)("input",{id:"isActive",name:"isActive",type:"checkbox",checked:g.isActive,onChange:C,className:"h-4 w-4 rounded border-gray-300 text-apple-blue focus:ring-apple-blue"}),(0,u.jsx)("label",{htmlFor:"isActive",className:"ml-3 block text-sm",children:"List this business in the public directory"})]}),(0,u.jsxs)("div",{className:"pt-4 flex justify-end space-x-3 border-t mt-4 dark:border-apple-gray-700",children:[(0,u.jsx)(n.A,{type:"button",variant:"secondary",onClick:s,disabled:h,children:"Cancel"}),(0,u.jsx)(n.A,{type:"submit",isLoading:h,children:r?"Save Changes":"Create Listing"})]})]})})};var h=s(6174);const g=e=>{let{isOpen:a,onClose:s,onSubmit:t,tenantToEdit:r,apiError:x,isLoading:g}=e;const[y,b]=(0,l.useState)({name:"",description:"",publicAddress:"",publicPhone:"",publicEmail:"",city:"",country:"",logoUrl:"",logoCloudinaryId:"",isListedInDirectory:!0,isActive:!0,plan:"basic"}),[j,v]=(0,l.useState)(""),[f,N]=(0,l.useState)(!1),[A,k]=(0,l.useState)(""),C=(0,l.useRef)(null);(0,l.useEffect)(()=>{var e,s;a&&r&&(k(""),b({name:r.name||"",description:r.description||"",publicAddress:r.publicAddress||"",publicPhone:r.publicPhone||"",publicEmail:r.publicEmail||"",city:r.city||"",country:r.country||"",logoUrl:r.logoUrl||"",logoCloudinaryId:r.logoCloudinaryId||"",isListedInDirectory:null===(e=r.isListedInDirectory)||void 0===e||e,isActive:null===(s=r.isActive)||void 0===s||s,plan:r.plan||"basic"}),v(r.logoUrl||""))},[a,r]);const w=e=>{const{name:a,value:s,type:l,checked:t}=e.target;b(e=>({...e,[a]:"checkbox"===l?t:s}))};return(0,u.jsx)(d.A,{isOpen:a,onClose:s,title:`Edit Software Customer: ${null===r||void 0===r?void 0:r.name}`,children:(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),k(""),y.name?await t(y):k("Business Name is a required field.")},className:"space-y-4",children:[(x||A)&&(0,u.jsxs)("div",{className:"p-3 text-sm bg-red-100 text-apple-red rounded-apple flex items-center",children:[(0,u.jsx)(p.A,{size:18,className:"mr-2"}),x||A]}),(0,u.jsx)(o.A,{label:"Business Name*",name:"name",value:y.name,onChange:w,required:!0}),(0,u.jsx)(o.A,{label:"Description",name:"description",value:y.description,onChange:w,multiline:!0,rows:3}),(0,u.jsx)(o.A,{label:"Address",name:"publicAddress",value:y.publicAddress,onChange:w}),(0,u.jsx)(o.A,{label:"Phone",name:"publicPhone",value:y.publicPhone,onChange:w}),(0,u.jsx)(o.A,{label:"Email",name:"publicEmail",type:"email",value:y.publicEmail,onChange:w}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsx)(o.A,{label:"City",name:"city",value:y.city,onChange:w}),(0,u.jsx)(o.A,{label:"Country",name:"country",value:y.country,onChange:w})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Business Logo"}),(0,u.jsxs)("div",{className:"mt-1 flex items-center gap-4",children:[(0,u.jsx)("div",{className:"w-20 h-20 rounded-lg bg-apple-gray-100 dark:bg-apple-gray-800 flex items-center justify-center overflow-hidden",children:f?(0,u.jsx)(c.A,{}):j?(0,u.jsx)("img",{src:j,alt:"Logo Preview",className:"w-full h-full object-cover"}):(0,u.jsx)(m.A,{size:24,className:"text-apple-gray-400"})}),(0,u.jsx)("input",{type:"file",ref:C,onChange:async e=>{const a=e.target.files[0];if(!a)return;if(a.size>2097152)return void k("File is too large. Please select an image under 2MB.");v(URL.createObjectURL(a)),N(!0),k("");const s=new FormData;s.append("logoImage",a);try{const{data:e}=await(0,i.NA)(s);b(a=>({...a,logoUrl:e.imageUrl,logoCloudinaryId:e.cloudinaryId}))}catch(n){var l,t;console.error("Logo upload failed:",n),k((null===(l=n.response)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.message)||"Logo upload failed. Please try again."),v((null===r||void 0===r?void 0:r.logoUrl)||"")}finally{N(!1)}},className:"hidden",accept:"image/png, image/jpeg, image/webp"}),(0,u.jsx)(n.A,{type:"button",variant:"secondary",onClick:()=>C.current.click(),disabled:f,children:f?"Uploading...":"Upload Image"})]})]}),(0,u.jsx)(h.A,{label:"Subscription Plan",name:"plan",value:y.plan,onChange:w,options:[{value:"trial",label:"Trial"},{value:"basic",label:"Basic"},{value:"pro",label:"Pro"}]}),(0,u.jsxs)("div",{className:"flex items-center pt-2",children:[(0,u.jsx)("input",{id:"isListedInDirectory",name:"isListedInDirectory",type:"checkbox",checked:y.isListedInDirectory,onChange:w,className:"h-4 w-4 rounded"}),(0,u.jsx)("label",{htmlFor:"isListedInDirectory",className:"ml-3 block text-sm",children:"List this business in the public directory"})]}),(0,u.jsxs)("div",{className:"flex items-center pt-2",children:[(0,u.jsx)("input",{id:"isActive",name:"isActive",type:"checkbox",checked:y.isActive,onChange:w,className:"h-4 w-4 rounded"}),(0,u.jsx)("label",{htmlFor:"isActive",className:"ml-3 block text-sm",children:"This software account is Active"})]}),(0,u.jsxs)("div",{className:"pt-4 flex justify-end space-x-3 border-t mt-4 dark:border-apple-gray-700",children:[(0,u.jsx)(n.A,{type:"button",variant:"secondary",onClick:s,disabled:g,children:"Cancel"}),(0,u.jsx)(n.A,{type:"submit",isLoading:g,children:"Save Changes"})]})]})})};var y=s(4596),b=s(781),j=s(9855),v=s(2284),f=s(6833),N=s(7118);const A=(0,s(7784).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var k=s(3768),C=s(4117);const w=e=>{let{label:a,icon:s,isActive:l,onPress:t}=e;return(0,u.jsxs)("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-t-lg transition-colors border-b-2 "+(l?"border-apple-blue text-apple-blue font-semibold":"border-transparent text-apple-gray-500 hover:border-apple-gray-300 hover:text-apple-gray-800"),children:[s,(0,u.jsx)("span",{children:a})]})},L=()=>{const[e,a]=(0,l.useState)([]),[s,t]=(0,l.useState)(!0),[d,o]=(0,l.useState)(null),{t:p}=(0,C.Bd)(),m=(0,l.useCallback)(async()=>{t(!0);try{const{data:e}=await(0,i.tp)();a(e)}catch(e){k.Ay.error("Failed to load pricing plans.")}finally{t(!1)}},[]);(0,l.useEffect)(()=>{m()},[m]);return s?(0,u.jsx)("div",{className:"p-8 flex justify-center",children:(0,u.jsx)(c.A,{text:"Loading Pricing Plans..."})}):(0,u.jsxs)(r.A,{children:[(0,u.jsxs)("div",{className:"p-4 border-b dark:border-apple-gray-700",children:[(0,u.jsx)("h2",{className:"font-semibold text-lg",children:"Subscription Price Management"}),(0,u.jsx)("p",{className:"text-sm text-apple-gray-500",children:"Set the price for each plan in all supported currencies."})]}),(0,u.jsx)("div",{className:"p-4 md:p-6 space-y-8",children:e&&e.length>0?e.filter(e=>"Trial"!==e.name).map(e=>(0,u.jsxs)("div",{className:"bg-apple-gray-50 dark:bg-apple-gray-900 p-4 rounded-lg",children:[(0,u.jsxs)("h3",{className:"text-xl font-semibold mb-4",children:[p(`public.pricing.plans.${e.name.toLowerCase()}.name`,e.name)," Plan"]}),e.prices&&e.prices.map(s=>(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center mb-3",children:[(0,u.jsx)("label",{className:"font-medium text-apple-gray-600 dark:text-apple-gray-300",children:s.currency}),(0,u.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,u.jsx)("input",{type:"number",value:s.amount,onChange:l=>{return t=e._id,i=s.currency,r=l.target.value,void a(e=>e.map(e=>{if(e._id===t){const a=e.prices.map(e=>e.currency===i?{...e,amount:parseFloat(r)||0}:e);return{...e,prices:a}}return e}));var t,i,r},className:"w-full p-2 border rounded-md dark:bg-apple-gray-800 dark:border-apple-gray-700 pr-16",placeholder:"0.00"}),(0,u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 text-apple-gray-400",children:s.currency})]})]},s.currency)),(0,u.jsx)("div",{className:"text-right mt-6",children:(0,u.jsxs)(n.A,{onClick:()=>(async e=>{o(e._id);try{await(0,i.D3)(e._id,{prices:e.prices.map(e=>{let{currency:a,amount:s}=e;return{currency:a,amount:s}})}),k.Ay.success(`${e.name} plan prices updated successfully!`)}catch(a){k.Ay.error(`Failed to save ${e.name} plan prices.`),m()}finally{o(null)}})(e),isLoading:d===e._id,children:["Save ",p(`public.pricing.plans.${e.name.toLowerCase()}.name`,e.name)," Prices"]})})]},e._id)):(0,u.jsx)("p",{className:"p-4 text-apple-gray-500",children:"No subscription plans found. Run the seeder to initialize them."})})]})},S=()=>{const{dirAdminLogout:e}=(0,t.h)(),[a,s]=(0,l.useState)("tenants"),[d,o]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[k,C]=(0,l.useState)(!0),[S,P]=(0,l.useState)(""),[E,z]=(0,l.useState)(""),[I,U]=(0,l.useState)(!1),[$,D]=(0,l.useState)(""),[M,F]=(0,l.useState)(!1),[B,q]=(0,l.useState)(null),[T,_]=(0,l.useState)(!1),[O,R]=(0,l.useState)(null),H=(0,l.useCallback)(async()=>{if("tenants"===a||"listings"===a){C(!0),P("");try{const[e,a]=await Promise.all([(0,i.ZK)(),(0,i.kj)()]);h(e.data),o(a.data)}catch(e){P("Failed to load dashboard data."),console.error(e)}finally{C(!1)}}},[a]);(0,l.useEffect)(()=>{H()},[H]),(0,l.useEffect)(()=>{let e;return(E||S)&&(e=setTimeout(()=>{z(""),P("")},4e3)),()=>clearTimeout(e)},[E,S]);const V=()=>{q(null),D(""),F(!0)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"min-h-screen bg-apple-gray-100 dark:bg-apple-gray-900 text-apple-gray-900 dark:text-apple-gray-100 p-4 sm:p-8",children:(0,u.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(v.A,{size:32,className:"text-apple-blue"}),(0,u.jsx)("h1",{className:"text-3xl font-bold",children:"Directory Admin Dashboard"})]}),(0,u.jsx)(n.A,{onClick:()=>{e()},variant:"secondary",children:"Logout"})]}),E&&(0,u.jsxs)("div",{className:"p-3 mb-4 bg-green-100 text-apple-green rounded-apple flex items-center",children:[(0,u.jsx)(f.A,{size:18,className:"mr-2"}),E]}),S&&(0,u.jsxs)("div",{className:"p-3 mb-4 bg-red-100 text-apple-red rounded-apple flex items-center",children:[(0,u.jsx)(p.A,{size:18,className:"mr-2"}),S]}),(0,u.jsxs)("div",{className:"flex space-x-2 border-b dark:border-apple-gray-700 mb-6",children:[(0,u.jsx)(w,{label:`Software Customers (${m.length})`,icon:(0,u.jsx)(N.A,{size:16}),isActive:"tenants"===a,onPress:()=>s("tenants")}),(0,u.jsx)(w,{label:`Manual Listings (${d.length})`,icon:(0,u.jsx)(v.A,{size:16}),isActive:"listings"===a,onPress:()=>s("listings")}),(0,u.jsx)(w,{label:"Plan Pricing",icon:(0,u.jsx)(A,{size:16}),isActive:"pricing"===a,onPress:()=>s("pricing")})]}),(()=>{switch(a){case"tenants":return k?(0,u.jsx)("div",{className:"p-8 flex justify-center",children:(0,u.jsx)(c.A,{})}):(0,u.jsxs)(r.A,{children:[(0,u.jsxs)("div",{className:"p-4 border-b dark:border-apple-gray-700",children:[(0,u.jsx)("h2",{className:"font-semibold text-lg",children:"Software Customers (Tenants)"}),(0,u.jsx)("p",{className:"text-sm text-apple-gray-500",children:"Businesses that signed up for PressMark. Edit their public directory profile here."})]}),(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full text-sm",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-3 text-left",children:"Name"}),(0,u.jsx)("th",{className:"px-4 py-3 text-left",children:"City"}),(0,u.jsx)("th",{className:"px-4 py-3 text-left",children:"Listed in Directory?"}),(0,u.jsx)("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),(0,u.jsx)("tbody",{className:"divide-y dark:divide-apple-gray-700",children:m.map(e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-4 py-2 font-medium",children:e.name}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.city||"N/A"}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.isListedInDirectory?"Yes":"No"}),(0,u.jsx)("td",{className:"px-4 py-2 text-center",children:(0,u.jsx)(n.A,{size:"sm",variant:"ghost",onClick:()=>(e=>{R(e),D(""),_(!0)})(e),title:"Edit Public Profile",children:(0,u.jsx)(y.A,{size:16})})})]},e._id))})]})})]});case"listings":return k?(0,u.jsx)("div",{className:"p-8 flex justify-center",children:(0,u.jsx)(c.A,{})}):(0,u.jsxs)(r.A,{children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-4 border-b dark:border-apple-gray-700",children:[(0,u.jsx)("h2",{className:"font-semibold text-lg",children:"Manual Directory Listings"}),(0,u.jsx)(n.A,{iconLeft:(0,u.jsx)(b.A,{size:16}),onClick:V,children:"Add New Listing"})]}),(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full text-sm",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-3 text-left",children:"Business Name"}),(0,u.jsx)("th",{className:"px-4 py-3 text-left",children:"City"}),(0,u.jsx)("th",{className:"px-4 py-3 text-left",children:"Phone"}),(0,u.jsx)("th",{className:"px-4 py-3 text-left",children:"Status"}),(0,u.jsx)("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),(0,u.jsx)("tbody",{className:"divide-y dark:divide-apple-gray-700",children:d.map(e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-4 py-2 font-medium",children:e.name}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.city||"N/A"}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.publicPhone||"N/A"}),(0,u.jsx)("td",{className:"px-4 py-2",children:(0,u.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs "+(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})}),(0,u.jsx)("td",{className:"px-4 py-2 text-center",children:(0,u.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,u.jsx)(n.A,{size:"sm",variant:"ghost",onClick:()=>(e=>{q(e),D(""),F(!0)})(e),children:(0,u.jsx)(y.A,{size:16})}),(0,u.jsx)(n.A,{size:"sm",variant:"ghost",className:"text-apple-red",onClick:()=>(async e=>{if(window.confirm(`Are you sure you want to delete the listing for "${e.name}"?`))try{const{data:a}=await(0,i.nT)(e._id);z(a.message),H()}catch(l){var a,s;P((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to delete listing.")}})(e),children:(0,u.jsx)(j.A,{size:16})})]})})]},e._id))})]})})]});case"pricing":return(0,u.jsx)(L,{});default:return null}})()]})}),(0,u.jsx)(x,{isOpen:M,onClose:()=>F(!1),onSubmit:async e=>{U(!0),D("");try{const{data:a}=B?await(0,i.nU)(B._id,e):await(0,i.c9)(e);z(`Listing "${a.name}" ${B?"updated":"created"} successfully.`),F(!1),H()}catch(l){var a,s;throw D((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"An error occurred."),l}finally{U(!1)}},listingToEdit:B,apiError:$,isLoading:I}),(0,u.jsx)(g,{isOpen:T,onClose:()=>_(!1),onSubmit:async e=>{U(!0),D("");try{const{data:a}=await(0,i.YB)(O._id,e);z(`Software Customer "${a.name}" updated successfully.`),_(!1),H()}catch(l){var a,s;throw D((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"An error occurred."),l}finally{U(!1)}},tenantToEdit:O,apiError:$,isLoading:I})]})}},3280:(e,a,s)=>{s.d(a,{A:()=>i});var l=s(5043),t=s(579);const i=e=>{let{label:a,id:s,type:i="text",value:r,onChange:n,placeholder:c,error:d,required:o,className:p="",inputClassName:m="",disabled:u=!1,prefix:x,prefixIcon:h,suffixIcon:g,helperText:y,containerStyle:b,...j}=e;return(0,t.jsxs)("div",{className:`mb-4 ${p}`,style:b,children:[a&&(0,t.jsx)("label",{htmlFor:s,className:"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1",children:a}),(0,t.jsxs)("div",{className:"relative rounded-apple shadow-apple-sm",children:[x&&(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("span",{className:"text-apple-gray-500 sm:text-sm",children:x})}),h&&(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.cloneElement(h,{className:"h-5 w-5 text-apple-gray-500 dark:text-apple-gray-400"})}),(0,t.jsx)("input",{type:i,id:s,name:s||j.name,value:null===r||void 0===r?"":r,onChange:n,placeholder:c,required:o,disabled:u,className:`\n                        form-input block w-full sm:text-sm\n                        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\n                        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\n                        dark:placeholder-apple-gray-500 dark:focus:border-apple-blue\n                        rounded-apple shadow-apple-sm\n                        ${d?"border-apple-red focus:border-apple-red focus:ring-apple-red":""}\n                        ${x||h?"pl-10":"px-3"}\n                        ${g?"pr-10":"px-3"}\n                        ${m}\n                    `.trim().replace(/\s+/g," "),...j}),g&&(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:g})]}),d&&(0,t.jsx)("p",{className:"mt-1.5 text-xs text-apple-red",children:d}),y&&!d&&(0,t.jsx)("p",{className:"mt-1.5 text-xs text-apple-gray-500 dark:text-apple-gray-400",children:y})]})}},4596:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},6174:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var l=s(579);const t=e=>{let{label:a,id:s,value:t,onChange:i,options:r=[],placeholder:n,error:c,required:d,className:o="",selectClassName:p="",disabled:m=!1,...u}=e;return(0,l.jsxs)("div",{className:`mb-4 ${o}`,children:[a&&(0,l.jsxs)("label",{htmlFor:s,className:"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1",children:[a," ",d&&(0,l.jsx)("span",{className:"text-apple-red",children:"*"})]}),(0,l.jsxs)("select",{id:s,name:s||u.name,value:t,onChange:i,required:d,disabled:m,className:`\n                    \n        form-select block w-full sm:text-sm\n        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\n        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\n        dark:focus:border-apple-blue\n        rounded-apple shadow-apple-sm\n    \n                    ${c?"\n        border-apple-red focus:border-apple-red focus:ring-apple-red\n        dark:border-apple-red dark:focus:border-apple-red\n    ":""}\n                    ${p}\n                `.trim().replace(/\s+/g," "),...u,children:[n&&(0,l.jsx)("option",{value:"",children:n}),r.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]}),c&&(0,l.jsx)("p",{className:"mt-1.5 text-xs text-apple-red",children:c})]})}},6260:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var l=s(579);const t=e=>{let{children:a,className:s="",title:t,actions:i,titleClassName:r="",contentClassName:n="",actionsClassName:c=""}=e;return(0,l.jsxs)("div",{className:`bg-white dark:bg-apple-gray-900 rounded-apple-lg shadow-apple overflow-hidden ${s}`,children:[t&&(0,l.jsx)("div",{className:`px-4 py-4 sm:px-6 border-b border-apple-gray-200 dark:border-apple-gray-800 ${r}`,children:"string"===typeof t?(0,l.jsx)("h3",{className:"text-lg leading-6 font-semibold text-apple-gray-900 dark:text-apple-gray-100",children:t}):t}),(0,l.jsx)("div",{className:`p-4 sm:p-6 ${n}`,children:a}),i&&(0,l.jsx)("div",{className:`px-4 py-3 sm:px-6 bg-apple-gray-50 dark:bg-apple-gray-950/50 border-t border-apple-gray-200 dark:border-apple-gray-800 ${c}`,children:i})]})}},6833:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},9855:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=566.10a94b0d.chunk.js.map