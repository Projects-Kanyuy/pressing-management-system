{"version":3,"file":"static/js/557.ab25ab64.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/plus.ts","components/Orders/OrderItemRow.js","../node_modules/lucide-react/src/icons/user-check.ts","../node_modules/lucide-react/src/icons/square-check-big.ts","../node_modules/lucide-react/src/icons/pen.ts","../node_modules/lucide-react/src/icons/square-x.ts","../node_modules/date-fns/setSeconds.js","../node_modules/date-fns/setMinutes.js","../node_modules/date-fns/setHours.js","components/Orders/CreateOrderForm.js","../node_modules/lucide-react/src/icons/user-plus.ts","components/UI/Input.js","../node_modules/date-fns/parseISO.js","../node_modules/lucide-react/src/icons/arrow-left.ts","components/UI/Select.js","components/UI/Card.js","components/UI/DatePicker.js","../node_modules/lucide-react/src/icons/save.ts","../node_modules/lucide-react/src/icons/search.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","// client/src/components/Orders/OrderItemRow.js\r\nimport React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Input from '../UI/Input';\r\nimport Select from '../UI/Select';\r\nimport Button from '../UI/Button';\r\nimport { X } from 'lucide-react';\r\nimport { useAppSettings } from '../../contexts/SettingsContext';\r\nconst OrderItemRow = ({\r\n    item,\r\n    index,\r\n    onRemove,\r\n    onChange,\r\n    itemTypes = [],\r\n    serviceTypes = [],\r\n    calculatedPrice\r\n}) => {\r\n    // This handler directly calls the function passed from the parent.\r\n    // It's crucial that `onChange` is the `handleItemChange` function from CreateOrderForm.\r\n    const handleFieldChange = (field, value) => {\r\n        onChange(item.id, field, value);\r\n    };\r\n       const { t } = useTranslation();\r\n  const { settings } = useAppSettings();\r\n    const currencySymbol = settings.defaultCurrencySymbol;\r\n\r\n    return (\r\n        <div className=\"p-4 border border-apple-gray-200 dark:border-apple-gray-700 rounded-apple-md shadow-apple-sm bg-apple-gray-50 dark:bg-apple-gray-800/30\">\r\n            <div className=\"flex justify-between items-center mb-3\">\r\n                <h4 className=\"text-md font-medium text-apple-gray-700 dark:text-apple-gray-300\">{t('orderItemRow.itemNumber', { number: index + 1 })}</h4>\r\n                <Button\r\n                    type=\"button\"\r\n                    onClick={onRemove}\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"text-apple-red hover:bg-red-100/50 dark:hover:bg-red-900/30 p-1 -mr-1 -mt-1\"\r\n                    title={t('orderItemRow.accessibility.removeItem')}\r\n                    aria-label={t('orderItemRow.accessibility.removeItemWithNumber', { number: index + 1 })}\r\n                >\r\n                    <X size={18} />\r\n                </Button>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-12 gap-x-4 gap-y-2 items-end\">\r\n                <div className=\"md:col-span-3\">\r\n                    <Select\r\n                        label={t('orderItemRow.itemType')}\r\n                        id={`itemType-${item.id}`}\r\n                        value={item.itemType} // This is bound to the state from the parent\r\n                        onChange={(e) => handleFieldChange('itemType', e.target.value)}\r\n                        options={itemTypes.map(type => ({ value: type, label: type }))}\r\n                        placeholder={t('orderItemRow.placeholders.selectItemType')}\r\n                        required\r\n                        className=\"mb-0\"\r\n                    />\r\n                </div>\r\n                <div className=\"md:col-span-3\">\r\n                    <Select\r\n                        label={t('orderItemRow.serviceType')}\r\n                        id={`serviceType-${item.id}`}\r\n                        value={item.serviceType}\r\n                        onChange={(e) => handleFieldChange('serviceType', e.target.value)}\r\n                        options={serviceTypes}\r\n                        placeholder={t('orderItemRow.placeholders.selectServiceType')}\r\n                        required\r\n                        className=\"mb-0\"\r\n                    />\r\n                </div>\r\n                <div className=\"md:col-span-1\">\r\n                    <Input\r\n                        label={t('orderItemRow.quantity')}\r\n                        id={`quantity-${item.id}`}\r\n                        type=\"number\"\r\n                        value={item.quantity}\r\n                        onChange={(e) => handleFieldChange('quantity', parseInt(e.target.value, 10) || 1)}\r\n                        min=\"1\"\r\n                        required\r\n                        className=\"mb-0\"\r\n                    />\r\n                </div>\r\n                <div className=\"md:col-span-3\">\r\n                     <Input\r\n                        label={t('orderItemRow.specialInstructions')}\r\n                        id={`specialInstructions-${item.id}`}\r\n                        value={item.specialInstructions}\r\n                        onChange={(e) => handleFieldChange('specialInstructions', e.target.value)}\r\n                        placeholder={t('orderItemRow.placeholders.specialInstructions')}\r\n                        className=\"mb-0\"\r\n                    />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                    <label htmlFor={`itemPrice-${item.id}`} className=\"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 \">\r\n                        {t('orderItemRow.linePrice')}\r\n                    </label>\r\n                    <div\r\n                        id={`itemPrice-${item.id}`}\r\n                        className=\"h-10 flex items-center justify-end px-3 py-2 border border-apple-gray-300 dark:border-apple-gray-700 rounded-apple shadow-sm bg-apple-gray-100 dark:bg-apple-gray-800 text-apple-gray-700 dark:text-apple-gray-100 sm:text-sm\"\r\n                    >\r\n                        <span className=\"font-medium\">\r\n                            {currencySymbol}{(calculatedPrice || 0).toFixed(2)}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderItemRow;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 11 2 2 4-4', key: '9rsbq5' }],\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n];\n\n/**\n * @component @name UserCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTEgMiAyIDQtNCIgLz4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserCheck = createLucideIcon('user-check', __iconNode);\n\nexport default UserCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5', key: '1uzm8b' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name SquareCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTAuNVYxOWEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMlY1YTIgMiAwIDAgMSAyLTJoMTIuNSIgLz4KICA8cGF0aCBkPSJtOSAxMSAzIDNMMjIgNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/square-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquareCheckBig = createLucideIcon('square-check-big', __iconNode);\n\nexport default SquareCheckBig;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('pen', __iconNode);\n\nexport default Pen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name SquareX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/square-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquareX = createLucideIcon('square-x', __iconNode);\n\nexport default SquareX;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setSeconds} function options.\n */\n\n/**\n * @name setSeconds\n * @category Second Helpers\n * @summary Set the seconds to the given date, with context support.\n *\n * @description\n * Set the seconds to the given date, with an optional context for time zone specification.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param seconds - The seconds of the new date\n * @param options - An object with options\n *\n * @returns The new date with the seconds set\n *\n * @example\n * // Set 45 seconds to 1 September 2014 11:30:40:\n * const result = setSeconds(new Date(2014, 8, 1, 11, 30, 40), 45)\n * //=> Mon Sep 01 2014 11:30:45\n */\nexport function setSeconds(date, seconds, options) {\n  const _date = toDate(date, options?.in);\n  _date.setSeconds(seconds);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setSeconds;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setMinutes} function options.\n */\n\n/**\n * @name setMinutes\n * @category Minute Helpers\n * @summary Set the minutes to the given date.\n *\n * @description\n * Set the minutes to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows using extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, returned from the context function, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param minutes - The minutes of the new date\n * @param options - An object with options\n *\n * @returns The new date with the minutes set\n *\n * @example\n * // Set 45 minutes to 1 September 2014 11:30:40:\n * const result = setMinutes(new Date(2014, 8, 1, 11, 30, 40), 45)\n * //=> Mon Sep 01 2014 11:45:40\n */\nexport function setMinutes(date, minutes, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setMinutes(minutes);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default setMinutes;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setHours} function options.\n */\n\n/**\n * @name setHours\n * @category Hour Helpers\n * @summary Set the hours to the given date.\n *\n * @description\n * Set the hours to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param hours - The hours of the new date\n * @param options - An object with options\n *\n * @returns The new date with the hours set\n *\n * @example\n * // Set 4 hours to 1 September 2014 11:30:00:\n * const result = setHours(new Date(2014, 8, 1, 11, 30), 4)\n * //=> Mon Sep 01 2014 04:30:00\n */\nexport function setHours(date, hours, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(hours);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setHours;\n","// client/src/components/Orders/CreateOrderForm.js\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useAuth } from '../../contexts/AuthContext'; \r\nimport Input from '../UI/Input';\r\nimport Select from '../UI/Select';\r\nimport Button from '../UI/Button';\r\nimport DatePicker from '../UI/DatePicker';\r\nimport OrderItemRow from './OrderItemRow';\r\nimport Modal from '../UI/Modal';\r\nimport Spinner from '../UI/Spinner';\r\nimport Card from '../UI/Card';\r\nimport {\r\n  createNewOrder,\r\n  updateExistingOrder,\r\n  fetchCustomers,\r\n  fetchAppSettings,\r\n  fetchPrices,\r\n} from '../../services/api';\r\nimport {\r\n  Plus,\r\n  Save,\r\n  UserPlus,\r\n  Search,\r\n  UserCheck,\r\n  Edit2,\r\n  CheckSquare,\r\n  XSquare,\r\n  AlertTriangle,\r\n  Settings,\r\n} from 'lucide-react';\r\nimport {\r\n  format,\r\n  parseISO,\r\n  isValid as isValidDate,\r\n  setHours,\r\n  setMinutes,\r\n  setSeconds,\r\n} from 'date-fns';\r\nimport { useAppSettings } from '../../contexts/SettingsContext';\r\nconst CreateOrderForm = ({ initialOrderData, isEditMode = false }) => {\r\n    const { t } = useTranslation();\r\n    const navigate = useNavigate();\r\n      const { settings, loadingSettings } = useAppSettings();\r\n    const { user } = useAuth();\r\n    // --- STATE FOR DYNAMIC DATA (PRICING, SERVICES, ETC.) ---\r\n    const [operationalData, setOperationalData] = useState({\r\n        itemTypes: [],\r\n        serviceTypes: [],\r\n        priceList: [],\r\n        currencySymbol: '$', // Default, will be updated from settings\r\n        loading: true,\r\n    });\r\n\r\n    // --- FORM DATA STATE ---\r\n    const getNewItem = useCallback(() => ({\r\n        id: Date.now() + Math.random(),\r\n        itemType: '',\r\n        serviceType: '',\r\n        quantity: 1,\r\n        specialInstructions: '',\r\n    }), []);\r\n\r\n    const [items, setItems] = useState([getNewItem()]);\r\n    const [discountType, setDiscountType] = useState('none');\r\n    const [discountValueState, setDiscountValueState] = useState('0');\r\n    const [amountPaid, setAmountPaid] = useState('0');\r\n    const [notes, setNotes] = useState('');\r\n    const defaultPickupDateOnly = format(new Date(Date.now() + 3 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd');\r\n    const defaultPickupTime = '17:00';\r\n    const [expectedPickupDateOnly, setExpectedPickupDateOnly] = useState(defaultPickupDateOnly);\r\n    const [expectedPickupTime, setExpectedPickupTime] = useState(defaultPickupTime);\r\n\r\n    // --- CUSTOMER STATE ---\r\n    const [customerInput, setCustomerInput] = useState({ name: '', phone: '', email: '', address: '' });\r\n    const [selectedCustomerId, setSelectedCustomerId] = useState(null);\r\n    const [customerSearchQuery, setCustomerSearchQuery] = useState('');\r\n    const [searchedCustomers, setSearchedCustomers] = useState([]);\r\n    const [isSearchingCustomers, setIsSearchingCustomers] = useState(false);\r\n    const [customerSelectionMode, setCustomerSelectionMode] = useState(isEditMode && initialOrderData?.customer?._id ? 'existing' : 'new');\r\n\r\n    // --- UI/MODAL STATE ---\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [showConfirmationModal, setShowConfirmationModal] = useState(false);\r\n    const [orderDataForReview, setOrderDataForReview] = useState(null);\r\n\r\n    // --- DATA FETCHING ---\r\n    useEffect(() => {\r\n        const loadOperationalData = async () => {\r\n            try {\r\n                const [settingsRes, pricesRes] = await Promise.all([fetchAppSettings(), fetchPrices()]);\r\n                setOperationalData({\r\n                    itemTypes: settingsRes.data.itemTypes || [],\r\n                    serviceTypes: settingsRes.data.serviceTypes || [],\r\n                    priceList: pricesRes.data || [],\r\n                    currencySymbol: settingsRes.data.defaultCurrencySymbol || 'FCFA',\r\n                    loading: false,\r\n                });\r\n            } catch (err) {\r\n                setError(t('createOrder.form.validation.couldNotLoadData'));\r\n                console.error(\"Failed to load operational data:\", err);\r\n                setOperationalData(prev => ({ ...prev, loading: false }));\r\n            }\r\n        };\r\n        loadOperationalData();\r\n    }, []);\r\nconst currencySymbol = settings.defaultCurrencySymbol;\r\n    // --- FORM POPULATION FOR EDIT MODE ---\r\n    useEffect(() => {\r\n        if (isEditMode && initialOrderData) {\r\n            if (initialOrderData.customer) {\r\n                setCustomerInput({ name: initialOrderData.customer.name || '', phone: initialOrderData.customer.phone || '', email: initialOrderData.customer.email || '', address: initialOrderData.customer.address || '' });\r\n                setSelectedCustomerId(initialOrderData.customer._id);\r\n                setCustomerSelectionMode('existing');\r\n            }\r\n            setItems(initialOrderData.items?.map(item => ({ ...item, id: item._id || Date.now() + Math.random(), quantity: item.quantity || 1 })) || [getNewItem()]);\r\n            if (initialOrderData.expectedPickupDate && isValidDate(parseISO(initialOrderData.expectedPickupDate))) {\r\n                const initialDate = parseISO(initialOrderData.expectedPickupDate);\r\n                setExpectedPickupDateOnly(format(initialDate, 'yyyy-MM-dd'));\r\n                setExpectedPickupTime(format(initialDate, 'HH:mm'));\r\n            } else {\r\n                setExpectedPickupDateOnly(defaultPickupDateOnly);\r\n                setExpectedPickupTime(defaultPickupTime);\r\n            }\r\n            setDiscountType(initialOrderData.discountType || 'none');\r\n            setDiscountValueState(String(initialOrderData.discountValue || 0));\r\n            setAmountPaid(String(initialOrderData.amountPaid || 0));\r\n            setNotes(initialOrderData.notes || '');\r\n        }\r\n    }, [initialOrderData, isEditMode, getNewItem, defaultPickupDateOnly, defaultPickupTime]);\r\n\r\n    // --- HANDLERS ---\r\n    const handleItemChange = (id, field, value) => setItems(items.map(item => item.id === id ? { ...item, [field]: field === 'quantity' ? (parseInt(value, 10) || 1) : value } : item));\r\n    const handleAddItem = () => setItems([...items, getNewItem()]);\r\n    const handleRemoveItem = (id) => setItems(items.filter(item => item.id !== id));\r\n    const handleCustomerInputChange = (e) => setCustomerInput({ ...customerInput, [e.target.name]: e.target.value });\r\n    const handleCustomerSearchChange = async (e) => {\r\n        const query = e.target.value;\r\n        setCustomerSearchQuery(query);\r\n        if (query.length > 1) {\r\n            setIsSearchingCustomers(true);\r\n            try { const { data } = await fetchCustomers(query); setSearchedCustomers(data?.customers || []); } catch (err) { console.error(err); setSearchedCustomers([]); } finally { setIsSearchingCustomers(false); }\r\n        } else { setSearchedCustomers([]); }\r\n    };\r\n    const handleSelectCustomer = (customer) => {\r\n        setCustomerInput({ name: customer.name, phone: customer.phone, email: customer.email || '', address: customer.address || '' });\r\n        setSelectedCustomerId(customer._id);\r\n        setCustomerSearchQuery(''); setSearchedCustomers([]); setCustomerSelectionMode('existing');\r\n    };\r\n    const handleCreateNewCustomerToggle = () => { setCustomerSelectionMode('new'); setSelectedCustomerId(null); };\r\n    const handleEditFromReview = () => setShowConfirmationModal(false);\r\n\r\n    // --- DYNAMIC CALCULATIONS ---\r\n    const getItemPrice = useCallback((itemType, serviceType) => {\r\n        if (!itemType || !serviceType) return 0;\r\n         const serviceTypeToCompare = serviceType.toLowerCase();\r\n        const priceEntry = operationalData.priceList.find(\r\n            p => p.itemType === itemType && p.serviceType.toLowerCase() === serviceTypeToCompare\r\n        );\r\n        if (!priceEntry) {\r\n            console.log(`[getItemPrice] No price found for Item: '${itemType}', Service: '${serviceTypeToCompare}'. Checking against price list:`, operationalData.priceList);\r\n        }\r\n        return priceEntry ? priceEntry.price : 0;\r\n    }, [operationalData.priceList]);\r\n\r\n    const subTotal = useMemo(() =>\r\n        parseFloat(items.reduce((sum, item) => {\r\n            const pricePerUnit = getItemPrice(item.itemType, item.serviceType);\r\n            const qty = parseInt(item.quantity, 10) || 0;\r\n            return sum + (pricePerUnit * qty);\r\n        }, 0).toFixed(2)),\r\n        [items, getItemPrice]\r\n    );\r\n\r\n    const { calculatedDiscountAmount, finalTotalAmount } = useMemo(() => {\r\n        let discount = 0;\r\n        const val = parseFloat(discountValueState) || 0;\r\n        if (discountType === 'percentage' && subTotal > 0 && val > 0) discount = (subTotal * val) / 100;\r\n        else if (discountType === 'fixed' && val > 0) discount = val;\r\n        if (discount > subTotal) discount = subTotal;\r\n        const finalDiscount = parseFloat(discount.toFixed(2));\r\n        const finalTotal = parseFloat((subTotal - finalDiscount).toFixed(2));\r\n        return { calculatedDiscountAmount: finalDiscount, finalTotalAmount: finalTotal };\r\n    }, [subTotal, discountType, discountValueState]);\r\n\r\n    const balanceDue = useMemo(() => Math.max(0, finalTotalAmount - (parseFloat(amountPaid) || 0)), [finalTotalAmount, amountPaid]);\r\n\r\n    // --- SUBMISSION LOGIC ---\r\n    const handleReviewOrder = (e) => {\r\n        e.preventDefault(); setError('');\r\n        if (customerSelectionMode === 'new' && (!customerInput.name || !customerInput.phone)) { setError(t('createOrder.form.validation.customerNamePhoneRequired')); return; }\r\n        if (customerSelectionMode === 'existing' && !selectedCustomerId && !isEditMode) { setError(t('createOrder.form.validation.selectCustomerRequired')); return; }\r\n        if (items.some(item => !item.itemType || !item.serviceType || !item.quantity || parseInt(item.quantity, 10) < 1)) { setError(t('createOrder.form.validation.itemsRequired')); return; }\r\n        if (!expectedPickupDateOnly || !isValidDate(parseISO(expectedPickupDateOnly)) || !expectedPickupTime) { setError(t('createOrder.form.validation.pickupDateRequired')); return; }\r\n\r\n        const [hours, minutes] = expectedPickupTime.split(':').map(Number);\r\n        let combinedDateTime = setSeconds(setMinutes(setHours(parseISO(expectedPickupDateOnly), hours), minutes), 0);\r\n        if (!isValidDate(combinedDateTime)) { setError(t('createOrder.form.validation.invalidDateTime')); return; }\r\n\r\n        setOrderDataForReview({\r\n            isEditMode, customer: { ...customerInput, id: selectedCustomerId }, customerSelectionMode,\r\n            items: items.map(({ id, ...rest }) => ({...rest, quantity: parseInt(rest.quantity, 10) || 1, serviceType: rest.serviceType.toLowerCase()})), // Ensure lowercase on review\r\n            expectedPickupDate: combinedDateTime.toISOString(), subTotalAmount: subTotal,\r\n            discountType, discountValue: parseFloat(discountValueState) || 0,\r\n            calculatedDiscountAmount, finalTotalAmount, amountPaid: parseFloat(amountPaid) || 0, notes, balanceDue\r\n        });\r\n        setShowConfirmationModal(true);\r\n    };\r\n\r\n    const handleConfirmAndCreateOrder = async () => {\r\n        if (!orderDataForReview) { setError(t('createOrder.form.validation.internalError')); setShowConfirmationModal(false); return; }\r\n        setIsLoading(true); setError(''); setShowConfirmationModal(false);\r\n        const payload = {\r\n            items: orderDataForReview.items, // This already has lowercase serviceType\r\n            expectedPickupDate: orderDataForReview.expectedPickupDate,\r\n            subTotalAmount: orderDataForReview.subTotalAmount, discountType: orderDataForReview.discountType,\r\n            discountValue: orderDataForReview.discountValue, amountPaid: orderDataForReview.amountPaid, notes: orderDataForReview.notes,\r\n        };\r\n        if (orderDataForReview.customerSelectionMode === 'existing' && orderDataForReview.customer.id) {\r\n            payload.customerId = orderDataForReview.customer.id;\r\n            payload.customerDetailsToUpdate = { name: orderDataForReview.customer.name, phone: orderDataForReview.customer.phone, email: orderDataForReview.customer.email, address: orderDataForReview.customer.address };\r\n        } else {\r\n            payload.customerName = orderDataForReview.customer.name; payload.customerPhone = orderDataForReview.customer.phone;\r\n            payload.customerEmail = orderDataForReview.customer.email; payload.customerAddress = orderDataForReview.customer.address;\r\n        }\r\n        try {\r\n            const response = isEditMode && initialOrderData?._id ? await updateExistingOrder(initialOrderData._id, payload) : await createNewOrder(payload);\r\n            alert(t(isEditMode ? 'createOrder.form.validation.orderUpdated' : 'createOrder.form.validation.orderCreated', { receiptNumber: response.data.receiptNumber }));\r\n            navigate(isEditMode ? `/app/orders/${response.data._id}` : '/app/dashboard');\r\n        } catch (err) { setError(err.response?.data?.message || t(isEditMode ? 'createOrder.form.validation.failedToSave' : 'createOrder.form.validation.failedToCreate'));\r\n        } finally { setIsLoading(false); }\r\n    };\r\n    if (operationalData.loading) {\r\n        return <div className=\"p-8 flex justify-center items-center\"><Spinner size=\"lg\" /><p className=\"ml-1 mt-2 text-sm text-apple-gray-500\">{t('createOrder.form.loadingData')}</p></div>;\r\n    }\r\n\r\n    if (!operationalData.loading && operationalData.itemTypes.length === 0) {\r\n        return (\r\n            <Card>\r\n                <div className=\"p-6 text-center\">\r\n                    <AlertTriangle size={32} className=\"mx-auto text-orange-500 mb-4\" />\r\n                    <h3 className=\"font-semibold text-lg\">{t('createOrder.form.setupRequired')}</h3>\r\n                    <p className=\"text-sm text-apple-gray-600 dark:text-apple-gray-400 mt-2\">{t('createOrder.form.noItemTypes')}</p>\r\n                    <Link to=\"/app/admin/settings\">\r\n                        <Button className=\"mt-4\">{t('createOrder.form.goToSettings')}</Button>\r\n                    </Link>\r\n                </div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={handleReviewOrder} className=\"space-y-8 divide-y divide-apple-gray-200 dark:divide-apple-gray-700\">\r\n                {error && ( <div className=\"p-3 mb-4 bg-red-100 text-apple-red rounded-apple border border-red-300 dark:border-red-700 dark:text-red-300 dark:bg-red-900/30\"> <div className=\"flex items-center\"> <AlertTriangle size={20} className=\"mr-2 flex-shrink-0\" /> <span>{error}</span> </div> </div> )}\r\n                <div className=\"pt-2\">\r\n                    <h3 className=\"text-xl font-semibold leading-7 text-apple-gray-900 dark:text-apple-gray-100\">{t('createOrder.form.customerInfo.title')}</h3>\r\n                    <div className=\"mt-2 mb-4 flex space-x-4\"> <Button type=\"button\" onClick={() => { setCustomerSelectionMode('existing'); setSelectedCustomerId(null); setCustomerInput({ name: '', phone: '', email: '', address: '' }); }} variant={customerSelectionMode === 'existing' ? 'primary' : 'secondary'} iconLeft={<Search size={16}/>}>{t('createOrder.form.customerInfo.existingCustomer')}</Button> <Button type=\"button\" onClick={handleCreateNewCustomerToggle} variant={customerSelectionMode === 'new' ? 'primary' : 'secondary'} iconLeft={<UserPlus size={16}/>}>{t('createOrder.form.customerInfo.newCustomer')}</Button> </div>\r\n                    {customerSelectionMode === 'existing' && ( <div className=\"space-y-4 mb-4\"> <Input label={t('createOrder.form.customerInfo.searchCustomer')} id=\"customerSearch\" value={customerSearchQuery} onChange={handleCustomerSearchChange} placeholder={t('createOrder.form.customerInfo.searchPlaceholder')} prefixIcon={isSearchingCustomers ? <Spinner size=\"sm\"/> : <Search size={16}/>} /> {searchedCustomers.length > 0 && ( <ul className=\"max-h-48 overflow-y-auto border border-apple-gray-300 dark:border-apple-gray-700 rounded-apple-md divide-y divide-apple-gray-200 dark:divide-apple-gray-700 bg-white dark:bg-apple-gray-800\"> {searchedCustomers.map(cust => ( <li key={cust._id} onClick={() => handleSelectCustomer(cust)} className=\"p-3 hover:bg-apple-gray-100 dark:hover:bg-apple-gray-700/50 cursor-pointer\"> <p className=\"font-medium text-apple-gray-800 dark:text-apple-gray-200\">{cust.name}</p> <p className=\"text-sm text-apple-gray-500 dark:text-apple-gray-400\">{cust.phone} {cust.email && `- ${cust.email}`}</p> </li> ))} </ul> )} {selectedCustomerId && <p className=\"mt-2 text-sm text-apple-green flex items-center\"><UserCheck size={16} className=\"mr-1\"/> {t('createOrder.form.customerInfo.selected')}: {customerInput.name} ({customerInput.phone})</p>} </div> )}\r\n                    <div className={`mt-2 grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6 ${customerSelectionMode === 'existing' && !selectedCustomerId && !isEditMode && 'opacity-60 pointer-events-none'}`}>\r\n                        <div className=\"sm:col-span-3\"> <Input label={t('createOrder.form.customerInfo.fullName')} id=\"customerNameInput\" name=\"name\" value={customerInput.name} onChange={handleCustomerInputChange} required={customerSelectionMode === 'new'} /> </div>\r\n                        <div className=\"sm:col-span-3\"> <Input label={t('createOrder.form.customerInfo.phoneNumber')} id=\"customerPhoneInput\" name=\"phone\" type=\"tel\" value={customerInput.phone} onChange={handleCustomerInputChange} required={customerSelectionMode === 'new'} /> </div>\r\n                        <div className=\"sm:col-span-3\"> <Input label={t('createOrder.form.customerInfo.emailAddress')} id=\"customerEmailInput\" name=\"email\" type=\"email\" value={customerInput.email} onChange={handleCustomerInputChange} /> </div>\r\n                        <div className=\"sm:col-span-3\"> <Input label={t('createOrder.form.customerInfo.address')} id=\"customerAddressInput\" name=\"address\" value={customerInput.address} onChange={handleCustomerInputChange} /> </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"pt-8\">\r\n                    <h3 className=\"text-xl font-semibold leading-7 text-apple-gray-900 dark:text-apple-gray-100\">{t('createOrder.form.items.title')}</h3>\r\n                    <div className=\"mt-6 space-y-4\">\r\n                        {items.map((item, index) => {\r\n                            const pricePerUnit = getItemPrice(item.itemType, item.serviceType);\r\n                            const itemPrice = pricePerUnit * (parseInt(item.quantity, 10) || 0);\r\n                            return (\r\n                                <OrderItemRow\r\n                                    key={item.id}\r\n                                    item={item}\r\n                                    index={index}\r\n                                    onRemove={() => handleRemoveItem(item.id)}\r\n                                    onChange={handleItemChange}\r\n                                    itemTypes={operationalData.itemTypes}\r\n                                    serviceTypes={operationalData.serviceTypes.map(s => ({\r\n                                        value: s.toLowerCase().trim(), // The value to be sent to backend\r\n                                        label: s                       // The text to be shown to the user\r\n                                    }))}\r\n                                    calculatedPrice={itemPrice}\r\n                                    currencySymbol={operationalData.currencySymbol}\r\n                                />\r\n                            );\r\n                        })}\r\n                        <Button type=\"button\" onClick={handleAddItem} variant=\"secondary\" iconLeft={<Plus size={16}/>}>{t('createOrder.form.items.addItem')}</Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"pt-8\">\r\n                     <h3 className=\"text-xl font-semibold leading-7 text-apple-gray-900 dark:text-apple-gray-100\">{t('createOrder.form.summary.title')}</h3>\r\n                    <div className=\"mt-6 grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6\">\r\n                        <div className=\"sm:col-span-3\"><Input label={`${t('createOrder.form.summary.subtotal')} (${operationalData.currencySymbol})`} id=\"subTotal\" type=\"text\" value={subTotal.toFixed(2)} readOnly className=\"bg-apple-gray-100 dark:bg-apple-gray-800 cursor-default\" /></div>\r\n                        <div className=\"sm:col-span-3\"> <Select label={t('createOrder.form.summary.discountType')} id=\"discountType\" value={discountType} onChange={(e) => { setDiscountType(e.target.value); if (e.target.value === 'none') setDiscountValueState('0'); }} options={[ { value: 'none', label: t('createOrder.form.summary.noDiscount') }, { value: 'percentage', label: t('createOrder.form.summary.percentage') }, { value: 'fixed', label: `${t('createOrder.form.summary.fixedAmount')} (${operationalData.currencySymbol})` }]} /> </div>\r\n                        {discountType !== 'none' && ( <div className=\"sm:col-span-3\"> <Input label={`${t('createOrder.form.summary.discountValue')} ${discountType === 'percentage' ? '(%)' : `(${operationalData.currencySymbol})`}`} id=\"discountValueState\" type=\"number\" value={discountValueState} onChange={(e) => setDiscountValueState(e.target.value)} min=\"0\" step=\"0.01\" /> </div> )}\r\n                        <div className=\"sm:col-span-3\"><Input label={`${t('createOrder.form.summary.calculatedDiscount')} (${operationalData.currencySymbol})`} id=\"calculatedDiscountDisplay\" type=\"text\" value={calculatedDiscountAmount.toFixed(2)} readOnly className=\"bg-apple-gray-100 dark:bg-apple-gray-800 cursor-default\" /></div>\r\n                        <div className=\"sm:col-span-3\"><Input label={`${t('createOrder.form.summary.finalTotal')} (${operationalData.currencySymbol})`} id=\"finalTotalAmount\" type=\"text\" value={finalTotalAmount.toFixed(2)} readOnly className=\"font-semibold bg-apple-gray-100 dark:bg-apple-gray-800 cursor-default\" /></div>\r\n                        <div className=\"sm:col-span-3\"><Input label={`${t('createOrder.form.summary.advancePaid')} (${operationalData.currencySymbol})`} id=\"amountPaid\" name=\"amountPaid\" type=\"number\" value={amountPaid} onChange={(e) => setAmountPaid(e.target.value)} step=\"0.01\" min=\"0\" /></div>\r\n                        <div className=\"sm:col-span-3\"><Input label={`${t('createOrder.form.summary.balanceDue')} (${operationalData.currencySymbol})`} id=\"balanceDueDisplay\" type=\"text\" value={balanceDue.toFixed(2)} readOnly className={`font-semibold cursor-default ${balanceDue > 0 ? 'text-apple-red dark:text-red-400' : 'text-apple-green dark:text-green-400'} bg-apple-gray-100 dark:bg-apple-gray-800`} /></div>\r\n                        <div className=\"sm:col-span-3\"><DatePicker label={t('createOrder.form.summary.expectedPickupDate')} id=\"expectedPickupDateOnly\" value={expectedPickupDateOnly} onChange={(e) => setExpectedPickupDateOnly(e.target.value)} required min={format(new Date(), 'yyyy-MM-dd')} /></div>\r\n                        <div className=\"sm:col-span-3\"><Input label={t('createOrder.form.summary.expectedPickupTime')} id=\"expectedPickupTime\" type=\"time\" value={expectedPickupTime} onChange={(e) => setExpectedPickupTime(e.target.value)} required /></div>\r\n                        <div className=\"sm:col-span-6\"> <label htmlFor=\"notes\" className=\"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1\">{t('createOrder.form.summary.orderNotes')}</label> <textarea id=\"notes\" name=\"notes\" rows={3} value={notes} onChange={(e) => setNotes(e.target.value)} className=\"form-textarea block w-full sm:text-sm  border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100 dark:focus:border-apple-blue rounded-apple shadow-apple-sm\" /> </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"pt-6 flex items-center justify-end gap-x-3\">\r\n                    <Button type=\"button\" variant=\"secondary\" onClick={() => navigate(isEditMode && initialOrderData?._id ? `/app/orders/${initialOrderData._id}` : '/app/dashboard')} disabled={isLoading}>{t('createOrder.form.actions.cancel')}</Button>\r\n                    <Button type=\"submit\" variant=\"primary\" isLoading={isLoading} iconLeft={<CheckSquare size={18}/>}>\r\n                        {isEditMode ? t('createOrder.form.actions.reviewChanges') : t('createOrder.form.actions.reviewOrder')}\r\n                    </Button>\r\n                </div>\r\n            </form>\r\n\r\n            {showConfirmationModal && orderDataForReview && (\r\n                <Modal isOpen={showConfirmationModal} onClose={() => { if (!isLoading) setShowConfirmationModal(false); }} title={isEditMode ? t('createOrder.form.confirmModal.titleEdit') : t('createOrder.form.confirmModal.titleNew')} size=\"2xl\">\r\n                    <div className=\"space-y-4 text-sm max-h-[70vh] overflow-y-auto p-1 custom-scrollbar\">\r\n                        <h3 className=\"text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100\">{t('createOrder.form.confirmModal.reviewDetails')}</h3>\r\n                        <div className=\"p-3 border rounded-apple-md dark:border-apple-gray-700 bg-apple-gray-50 dark:bg-apple-gray-800/30\"> <h4 className=\"font-medium mb-1 text-apple-gray-700 dark:text-apple-gray-200\">{t('createOrder.form.confirmModal.customer')}</h4> <p><strong>{t('createOrder.form.confirmModal.name')}</strong> {orderDataForReview.customer.name || <span className=\"italic text-apple-red\">{t('createOrder.form.confirmModal.missing')}</span>}</p> <p><strong>{t('createOrder.form.confirmModal.phone')}</strong> {orderDataForReview.customer.phone || <span className=\"italic text-apple-red\">{t('createOrder.form.confirmModal.missing')}</span>}</p> {orderDataForReview.customer.email && <p><strong>{t('createOrder.form.confirmModal.email')}</strong> {orderDataForReview.customer.email}</p>} {orderDataForReview.customer.address && <p><strong>{t('createOrder.form.confirmModal.address')}</strong> {orderDataForReview.customer.address}</p>} </div>\r\n                        <div className=\"p-3 border rounded-apple-md dark:border-apple-gray-700 bg-apple-gray-50 dark:bg-apple-gray-800/30\"> <h4 className=\"font-medium mb-2 text-apple-gray-700 dark:text-apple-gray-200\">{t('createOrder.form.confirmModal.items')}</h4> {orderDataForReview.items.length > 0 ? orderDataForReview.items.map((item, index) => { const itemPriceInReview = getItemPrice(item.itemType, item.serviceType) * (parseInt(item.quantity, 10) || 0); return ( <div key={index} className={`mb-2 pb-2 ${index < orderDataForReview.items.length - 1 ? 'border-b dark:border-apple-gray-700/50' : ''}`}> <div className=\"flex justify-between\"> <span><strong>{item.quantity || 0}x {item.itemType || <span className=\"italic text-apple-red\">{t('createOrder.form.confirmModal.missing')}</span>}</strong> - {t('createOrder.form.confirmModal.service')}: {item.serviceType || <span className=\"italic text-apple-red\">{t('createOrder.form.confirmModal.missing')}</span>}</span> <span className=\"font-medium\">{operationalData.currencySymbol}{itemPriceInReview.toFixed(2)}</span> </div> {item.specialInstructions && <p className=\"text-xs italic text-apple-gray-600 dark:text-apple-gray-400\">{t('createOrder.form.confirmModal.instructions')}: {item.specialInstructions}</p>} </div> ); }) : <p className=\"italic text-apple-gray-500\">{t('createOrder.form.confirmModal.noItems')}</p>} </div>\r\n                        <div className=\"p-3 border rounded-apple-md dark:border-apple-gray-700 bg-apple-gray-50 dark:bg-apple-gray-800/30\"> <h4 className=\"font-medium mb-1 text-apple-gray-700 dark:text-apple-gray-200\">{t('createOrder.form.confirmModal.summary')}</h4> <p><strong>{t('createOrder.form.confirmModal.subtotal')}</strong> {operationalData.currencySymbol}{orderDataForReview.subTotalAmount.toFixed(2)}</p> {orderDataForReview.discountType !== 'none' && orderDataForReview.calculatedDiscountAmount > 0 && ( <p><strong>{t('createOrder.form.confirmModal.discount')} ({orderDataForReview.discountType === 'percentage' ? `${orderDataForReview.discountValue}%` : `${operationalData.currencySymbol}${orderDataForReview.discountValue.toFixed(2)}`}):</strong> -{operationalData.currencySymbol}{orderDataForReview.calculatedDiscountAmount.toFixed(2)}</p> )} <p className=\"text-base font-semibold\"><strong>{t('createOrder.form.confirmModal.finalTotal')}</strong> {operationalData.currencySymbol}{orderDataForReview.finalTotalAmount.toFixed(2)}</p> <p><strong>{t('createOrder.form.confirmModal.advancePaid')}</strong> {operationalData.currencySymbol}{orderDataForReview.amountPaid.toFixed(2)}</p> <p className={`font-semibold ${orderDataForReview.balanceDue > 0 ? 'text-apple-red' : 'text-apple-green'}`}> <strong>{t('createOrder.form.confirmModal.balanceDue')}</strong> {operationalData.currencySymbol}{orderDataForReview.balanceDue.toFixed(2)} </p> <p><strong>{t('createOrder.form.confirmModal.expectedPickup')}</strong> {orderDataForReview.expectedPickupDate ? format(parseISO(orderDataForReview.expectedPickupDate), 'MMM d, yyyy, h:mm a') : <span className=\"italic text-apple-red\">{t('createOrder.form.confirmModal.missing')}</span>}</p> {orderDataForReview.notes && <p className=\"mt-1\"><strong>{t('createOrder.form.confirmModal.notes')}</strong> <span className=\"block whitespace-pre-wrap\">{orderDataForReview.notes}</span></p>} </div>\r\n                        <p className=\"pt-2 text-center font-semibold text-apple-gray-700 dark:text-apple-gray-200\">{t('createOrder.form.confirmModal.isCorrect')}</p>\r\n                    </div>\r\n                    <div className=\"mt-6 pt-4 border-t dark:border-apple-gray-700 flex flex-wrap justify-end gap-3\"> <Button variant=\"secondary\" onClick={handleEditFromReview} iconLeft={<Edit2 size={16}/>} disabled={isLoading}>{t('createOrder.form.confirmModal.edit')}</Button> <Button variant=\"ghost\" onClick={() => setShowConfirmationModal(false)} disabled={isLoading} className=\"text-apple-red\" iconLeft={<XSquare size={16}/>}>{t('common.cancel')}</Button> <Button variant=\"primary\" onClick={handleConfirmAndCreateOrder} isLoading={isLoading} iconLeft={<Save size={16}/>}> {isEditMode ? t('createOrder.form.confirmModal.confirmSave') : t('createOrder.form.confirmModal.confirmCreate')} </Button> </div>\r\n                </Modal>\r\n            )}\r\n        </>\r\n    );\r\n};\r\nexport default CreateOrderForm;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n];\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('user-plus', __iconNode);\n\nexport default UserPlus;\n","// client/src/components/UI/Input.js\r\nimport React from 'react';\r\n\r\nconst Input = ({\r\n    label,\r\n    id,\r\n    type = \"text\",\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    error,\r\n    required,\r\n    className = '',\r\n    inputClassName = '',\r\n    disabled = false,\r\n    prefix, // For text prefix like '$'\r\n    prefixIcon,\r\n    suffixIcon, // Can be a JSX element like an icon or a button with an icon\r\n    helperText,\r\n    containerStyle, // For custom styling on the outer div\r\n    ...props\r\n}) => {\r\n    return (\r\n        \r\n        <div className={`mb-4 ${className}`} style={containerStyle}>\r\n            {label && (\r\n                <label htmlFor={id} className=\"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1\">\r\n                    {label}\r\n                </label>\r\n            )}\r\n            <div className=\"relative rounded-apple shadow-apple-sm\">\r\n                {prefix && (\r\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                        <span className=\"text-apple-gray-500 sm:text-sm\">{prefix}</span>\r\n                    </div>\r\n                )}\r\n                {prefixIcon && (\r\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                        {React.cloneElement(prefixIcon, { className: \"h-5 w-5 text-apple-gray-500 dark:text-apple-gray-400\"})}\r\n                    </div>\r\n                )}\r\n                <input\r\n                    type={type}\r\n                    id={id}\r\n                    name={id || props.name}\r\n                    value={value === null || value === undefined ? '' : value}\r\n                    onChange={onChange}\r\n                    placeholder={placeholder}\r\n                    required={required}\r\n                    disabled={disabled}\r\n                    className={`\r\n                        form-input block w-full sm:text-sm\r\n                        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\r\n                        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\r\n                        dark:placeholder-apple-gray-500 dark:focus:border-apple-blue\r\n                        rounded-apple shadow-apple-sm\r\n                        ${error ? 'border-apple-red focus:border-apple-red focus:ring-apple-red' : ''}\r\n                        ${prefix || prefixIcon ? 'pl-10' : 'px-3'}\r\n                        ${suffixIcon ? 'pr-10' : 'px-3'}\r\n                        ${inputClassName}\r\n                    `.trim().replace(/\\s+/g, ' ')}\r\n                    {...props}\r\n                />\r\n                {/* THIS IS THE CORRECTED LOGIC FOR THE SUFFIX ICON */}\r\n                {suffixIcon && (\r\n                     <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\r\n                        {/* This will render whatever JSX element is passed, e.g., a button */}\r\n                        {suffixIcon}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            {error && <p className=\"mt-1.5 text-xs text-apple-red\">{error}</p>}\r\n            {helperText && !error && <p className=\"mt-1.5 text-xs text-apple-gray-500 dark:text-apple-gray-400\">{helperText}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Input;","import {\n  millisecondsInHour,\n  millisecondsInMinute,\n} from \"./constants.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const invalidDate = () => constructFrom(options?.in, NaN);\n\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(+date)) return invalidDate();\n\n  const timestamp = +date;\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) return invalidDate();\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) return invalidDate();\n  } else {\n    const tmpDate = new Date(timestamp + time);\n    const result = toDate(0, options?.in);\n    result.setFullYear(\n      tmpDate.getUTCFullYear(),\n      tmpDate.getUTCMonth(),\n      tmpDate.getUTCDate(),\n    );\n    result.setHours(\n      tmpDate.getUTCHours(),\n      tmpDate.getUTCMinutes(),\n      tmpDate.getUTCSeconds(),\n      tmpDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return toDate(timestamp + time + offset, options?.in);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import React from 'react';\r\n\r\nconst Select = ({\r\n    label,\r\n    id,\r\n    value,\r\n    onChange,\r\n    options = [], // [{ value: 'val', label: 'Label' }, ...]\r\n    placeholder,\r\n    error,\r\n    required,\r\n    className = '',\r\n    selectClassName = '',\r\n    disabled = false,\r\n    ...props\r\n}) => {\r\n    const baseSelectClasses = `\r\n        form-select block w-full sm:text-sm\r\n        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\r\n        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\r\n        dark:focus:border-apple-blue\r\n        rounded-apple shadow-apple-sm\r\n    `;\r\n    const errorSelectClasses = `\r\n        border-apple-red focus:border-apple-red focus:ring-apple-red\r\n        dark:border-apple-red dark:focus:border-apple-red\r\n    `;\r\n\r\n    return (\r\n        <div className={`mb-4 ${className}`}>\r\n            {label && (\r\n                <label htmlFor={id} className=\"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1\">\r\n                    {label} {required && <span className=\"text-apple-red\">*</span>}\r\n                </label>\r\n            )}\r\n            <select\r\n                id={id}\r\n                name={id || props.name}\r\n                value={value}\r\n                onChange={onChange}\r\n                required={required}\r\n                disabled={disabled}\r\n                className={`\r\n                    ${baseSelectClasses}\r\n                    ${error ? errorSelectClasses : ''}\r\n                    ${selectClassName}\r\n                `.trim().replace(/\\s+/g, ' ')}\r\n                {...props}\r\n            >\r\n                {placeholder && <option value=\"\">{placeholder}</option>}\r\n                {options.map(option => (\r\n                    <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n            {error && <p className=\"mt-1.5 text-xs text-apple-red\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Select;","import React from 'react';\r\n\r\nconst Card = ({ children, className = '', title, actions, titleClassName='', contentClassName='', actionsClassName='' }) => {\r\n    return (\r\n        <div className={`bg-white dark:bg-apple-gray-900 rounded-apple-lg shadow-apple overflow-hidden ${className}`}>\r\n            {title && (\r\n                <div className={`px-4 py-4 sm:px-6 border-b border-apple-gray-200 dark:border-apple-gray-800 ${titleClassName}`}>\r\n                    {typeof title === 'string' ? (\r\n                        <h3 className=\"text-lg leading-6 font-semibold text-apple-gray-900 dark:text-apple-gray-100\">\r\n                            {title}\r\n                        </h3>\r\n                    ) : title }\r\n                </div>\r\n            )}\r\n            <div className={`p-4 sm:p-6 ${contentClassName}`}>\r\n                {children}\r\n            </div>\r\n            {actions && (\r\n                <div className={`px-4 py-3 sm:px-6 bg-apple-gray-50 dark:bg-apple-gray-950/50 border-t border-apple-gray-200 dark:border-apple-gray-800 ${actionsClassName}`}>\r\n                    {actions}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;","import React from 'react';\r\nimport Input from './Input'; // Reuse the Input component styling\r\n\r\nconst DatePicker = ({ label, id, value, onChange, error, required, className = '', ...props }) => {\r\n    return (\r\n        <Input\r\n            label={label}\r\n            id={id}\r\n            type=\"date\"\r\n            value={value} // Expected format: \"YYYY-MM-DD\"\r\n            onChange={onChange}\r\n            error={error}\r\n            required={required}\r\n            className={className}\r\n            {...props}\r\n        />\r\n    );\r\n};\r\n\r\nexport default DatePicker;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n"],"names":["Plus","createLucideIcon","d","key","_ref","item","index","onRemove","onChange","itemTypes","serviceTypes","calculatedPrice","handleFieldChange","field","value","id","t","useTranslation","settings","useAppSettings","currencySymbol","defaultCurrencySymbol","_jsxs","className","children","_jsx","number","Button","type","onClick","variant","size","title","X","Select","label","itemType","e","target","options","map","placeholder","required","serviceType","Input","quantity","parseInt","min","specialInstructions","htmlFor","toFixed","UserCheck","cx","cy","r","SquareCheckBig","Pen","SquareX","width","height","x","y","rx","ry","setSeconds","date","seconds","_date","toDate","in","setMinutes","minutes","date_","setHours","hours","_initialOrderData$cus","initialOrderData","isEditMode","navigate","useNavigate","loadingSettings","user","useAuth","operationalData","setOperationalData","useState","priceList","loading","getNewItem","useCallback","Date","now","Math","random","items","setItems","discountType","setDiscountType","discountValueState","setDiscountValueState","amountPaid","setAmountPaid","notes","setNotes","defaultPickupDateOnly","format","defaultPickupTime","expectedPickupDateOnly","setExpectedPickupDateOnly","expectedPickupTime","setExpectedPickupTime","customerInput","setCustomerInput","name","phone","email","address","selectedCustomerId","setSelectedCustomerId","customerSearchQuery","setCustomerSearchQuery","searchedCustomers","setSearchedCustomers","isSearchingCustomers","setIsSearchingCustomers","customerSelectionMode","setCustomerSelectionMode","customer","_id","isLoading","setIsLoading","error","setError","showConfirmationModal","setShowConfirmationModal","orderDataForReview","setOrderDataForReview","useEffect","async","settingsRes","pricesRes","Promise","all","fetchAppSettings","fetchPrices","data","err","console","prev","loadOperationalData","_initialOrderData$ite","expectedPickupDate","isValidDate","parseISO","initialDate","String","discountValue","handleItemChange","handleCustomerInputChange","getItemPrice","serviceTypeToCompare","toLowerCase","priceEntry","find","p","log","price","subTotal","useMemo","parseFloat","reduce","sum","calculatedDiscountAmount","finalTotalAmount","discount","val","finalDiscount","balanceDue","max","Spinner","length","_Fragment","onSubmit","preventDefault","some","split","Number","combinedDateTime","_ref2","rest","toISOString","subTotalAmount","AlertTriangle","iconLeft","Search","handleCreateNewCustomerToggle","UserPlus","query","fetchCustomers","customers","prefixIcon","cust","handleSelectCustomer","itemPrice","OrderItemRow","handleRemoveItem","filter","s","trim","handleAddItem","readOnly","step","DatePicker","rows","disabled","CheckSquare","Modal","isOpen","onClose","itemPriceInReview","handleEditFromReview","Edit2","XSquare","payload","customerId","customerDetailsToUpdate","customerName","customerPhone","customerEmail","customerAddress","response","updateExistingOrder","createNewOrder","alert","receiptNumber","_err$response","_err$response$data","message","Save","Card","Link","to","x1","x2","y1","y2","inputClassName","prefix","suffixIcon","helperText","containerStyle","props","style","React","undefined","replace","argument","invalidDate","constructFrom","NaN","additionalDigits","dateStrings","dateString","array","patterns","dateTimeDelimiter","timeString","test","timeZoneDelimiter","substr","token","timezone","exec","time","splitDateString","parseYearResult","regex","RegExp","captures","match","year","restDateString","century","slice","parseYear","dateRegex","isWeekDate","dayOfYear","parseDateUnit","month","day","week","dayOfWeek","_year","validateWeekDate","isoWeekYear","setUTCFullYear","fourthOfJanuaryDay","getUTCDay","diff","setUTCDate","getUTCDate","dayOfISOWeekYear","daysInMonths","isLeapYearIndex","validateDate","validateDayOfYearDate","parseDate","isNaN","timestamp","offset","timeRegex","parseTimeUnit","validateTime","millisecondsInHour","millisecondsInMinute","parseTime","tmpDate","result","setFullYear","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","timezoneString","timezoneRegex","sign","_hours","validateTimezone","parseTimezone","ArrowLeft","selectClassName","option","actions","titleClassName","contentClassName","actionsClassName"],"sourceRoot":""}