/*! For license information please see 392.e7bbb040.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[392],{1884:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(7784).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},3280:(e,a,s)=>{s.d(a,{A:()=>t});var r=s(5043),l=s(579);const t=e=>{let{label:a,id:s,type:t="text",value:d,onChange:n,placeholder:o,error:c,required:m,className:p="",inputClassName:i="",disabled:x=!1,prefix:u,prefixIcon:h,suffixIcon:y,helperText:g,containerStyle:b,...v}=e;return(0,l.jsxs)("div",{className:`mb-4 ${p}`,style:b,children:[a&&(0,l.jsx)("label",{htmlFor:s,className:"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1",children:a}),(0,l.jsxs)("div",{className:"relative rounded-apple shadow-apple-sm",children:[u&&(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("span",{className:"text-apple-gray-500 sm:text-sm",children:u})}),h&&(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.cloneElement(h,{className:"h-5 w-5 text-apple-gray-500 dark:text-apple-gray-400"})}),(0,l.jsx)("input",{type:t,id:s,name:s||v.name,value:null===d||void 0===d?"":d,onChange:n,placeholder:o,required:m,disabled:x,className:`\n                        form-input block w-full sm:text-sm\n                        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\n                        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\n                        dark:placeholder-apple-gray-500 dark:focus:border-apple-blue\n                        rounded-apple shadow-apple-sm\n                        ${c?"border-apple-red focus:border-apple-red focus:ring-apple-red":""}\n                        ${u||h?"pl-10":"px-3"}\n                        ${y?"pr-10":"px-3"}\n                        ${i}\n                    `.trim().replace(/\s+/g," "),...v}),y&&(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:y})]}),c&&(0,l.jsx)("p",{className:"mt-1.5 text-xs text-apple-red",children:c}),g&&!c&&(0,l.jsx)("p",{className:"mt-1.5 text-xs text-apple-gray-500 dark:text-apple-gray-400",children:g})]})}},4596:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(7784).A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},5469:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(7784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6260:(e,a,s)=>{s.d(a,{A:()=>l});s(5043);var r=s(579);const l=e=>{let{children:a,className:s="",title:l,actions:t,titleClassName:d="",contentClassName:n="",actionsClassName:o=""}=e;return(0,r.jsxs)("div",{className:`bg-white dark:bg-apple-gray-900 rounded-apple-lg shadow-apple overflow-hidden ${s}`,children:[l&&(0,r.jsx)("div",{className:`px-4 py-4 sm:px-6 border-b border-apple-gray-200 dark:border-apple-gray-800 ${d}`,children:"string"===typeof l?(0,r.jsx)("h3",{className:"text-lg leading-6 font-semibold text-apple-gray-900 dark:text-apple-gray-100",children:l}):l}),(0,r.jsx)("div",{className:`p-4 sm:p-6 ${n}`,children:a}),t&&(0,r.jsx)("div",{className:`px-4 py-3 sm:px-6 bg-apple-gray-50 dark:bg-apple-gray-950/50 border-t border-apple-gray-200 dark:border-apple-gray-800 ${o}`,children:t})]})}},6833:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(7784).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8693:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(7784).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9392:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var r=s(5043),l=s(1283),t=s(4117),d=s(9621),n=s(6260),o=s(3280),c=s(722),m=s(7457),p=s(7719),i=s(5469),x=s(4596),u=s(1884),h=s(6833),y=s(8693),g=s(579);const b=e=>{let{mode:a}=e;const{id:s}=(0,l.g)(),b=(0,l.Zp)(),{t:v}=(0,t.Bd)(),[f,j]=(0,r.useState)({name:"",phone:"",email:"",address:""}),[N,k]=(0,r.useState)(!1),[A,F]=(0,r.useState)(!1),[C,w]=(0,r.useState)(""),[z,S]=(0,r.useState)(""),$="edit"===a;(0,r.useEffect)(()=>{if($&&s){(async()=>{k(!0),w("");try{const{data:e}=await(0,d.FT)(s);j({name:e.name||"",phone:e.phone||"",email:e.email||"",address:e.address||""})}catch(r){var e,a;w((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||v("customerForm.messages.fetchFailed",{id:s})),console.error("Fetch Customer Error (Edit):",r)}finally{k(!1)}})()}else $||j({name:"",phone:"",email:"",address:""})},[$,s]);const M=e=>{j({...f,[e.target.name]:e.target.value})};return N?(0,g.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,g.jsx)(m.A,{size:"lg"})}):$&&C&&!f.name?(0,g.jsx)("div",{className:"text-center py-10 max-w-xl mx-auto",children:(0,g.jsxs)(n.A,{children:[(0,g.jsx)(p.A,{size:48,className:"mx-auto text-apple-red mb-4"}),(0,g.jsx)("p",{className:"text-xl text-apple-red",children:C}),(0,g.jsx)(l.N_,{to:"/customers",children:(0,g.jsx)(c.A,{variant:"secondary",className:"mt-6",children:v("customerForm.backToCustomers")})})]})}):(0,g.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,g.jsx)(l.N_,{to:"/customers",className:"p-1.5 rounded-full hover:bg-apple-gray-100 dark:hover:bg-apple-gray-800",children:(0,g.jsx)(i.A,{size:22,className:"text-apple-gray-600 dark:text-apple-gray-400"})}),$?(0,g.jsx)(x.A,{size:28,className:"text-apple-blue"}):(0,g.jsx)(u.A,{size:28,className:"text-apple-blue"}),(0,g.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold",children:v($?"customerForm.editTitle":"customerForm.addTitle")})]}),z&&(0,g.jsx)("div",{className:"p-3 mb-4 bg-green-100 text-apple-green rounded-apple border border-green-300 dark:border-green-700 dark:text-green-300 dark:bg-green-900/30",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(h.A,{size:20,className:"mr-2"}),z]})}),C&&(0,g.jsx)("div",{className:"p-3 mb-4 bg-red-100 text-apple-red rounded-apple border border-red-300 dark:border-red-700 dark:text-red-300 dark:bg-red-900/30",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(p.A,{size:20,className:"mr-2"}),C]})}),(0,g.jsx)(n.A,{children:(0,g.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),F(!0),w(""),S(""),!f.name||!f.phone)return w(v("customerForm.validation.namePhoneRequired")),void F(!1);try{if($){const{data:e}=await(0,d.pG)(s,f);S(v("customerForm.messages.updateSuccess",{name:e.name}))}else{const{data:e}=await(0,d.R_)(f);S(v("customerForm.messages.createSuccess",{name:e.name})),setTimeout(()=>b("/customers"),1500)}}catch(l){var a,r;const e=v($?"customerForm.messages.updateFailed":"customerForm.messages.createFailed");w((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||e),console.error("Customer Form Submit Error:",l)}finally{F(!1),setTimeout(()=>{S(""),w("")},4e3)}},className:"space-y-6 p-2 sm:p-0",children:[" ",(0,g.jsx)(o.A,{label:v("customerForm.form.fullName"),id:"name",name:"name",value:f.name,onChange:M,required:!0,placeholder:v("customerForm.form.namePlaceholder")}),(0,g.jsx)(o.A,{label:v("customerForm.form.phoneNumber"),id:"phone",name:"phone",type:"tel",value:f.phone,onChange:M,required:!0,placeholder:v("customerForm.form.phonePlaceholder")}),(0,g.jsx)(o.A,{label:v("customerForm.form.emailAddress"),id:"email",name:"email",type:"email",value:f.email,onChange:M,placeholder:v("customerForm.form.emailPlaceholder")}),(0,g.jsx)(o.A,{label:v("customerForm.form.address"),id:"address",name:"address",value:f.address,onChange:M,placeholder:v("customerForm.form.addressPlaceholder")}),(0,g.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,g.jsx)(c.A,{type:"button",variant:"secondary",onClick:()=>b("/customers"),disabled:A,children:v("customerForm.actions.cancel")}),(0,g.jsx)(c.A,{type:"submit",variant:"primary",isLoading:A,iconLeft:(0,g.jsx)(y.A,{size:16}),children:v($?"customerForm.actions.saveChanges":"customerForm.actions.createCustomer")})]})]})})]})}}}]);
//# sourceMappingURL=392.e7bbb040.chunk.js.map