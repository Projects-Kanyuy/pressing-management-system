{"version":3,"file":"static/js/157.1b9e8559.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/cloud-upload.ts","pages/Admin/SettingsPage.js","components/UI/Input.js","components/UI/Select.js","components/UI/Card.js","../node_modules/lucide-react/src/icons/circle-check.ts","../node_modules/lucide-react/src/icons/save.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 13v8', key: '1l5pq0' }],\n  ['path', { d: 'M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242', key: '1pljnt' }],\n  ['path', { d: 'm8 17 4-4 4 4', key: '1quai1' }],\n];\n\n/**\n * @component @name CloudUpload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTN2OCIgLz4KICA8cGF0aCBkPSJNNCAxNC44OTlBNyA3IDAgMSAxIDE1LjcxIDhoMS43OWE0LjUgNC41IDAgMCAxIDIuNSA4LjI0MiIgLz4KICA8cGF0aCBkPSJtOCAxNyA0LTQgNCA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/cloud-upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CloudUpload = createLucideIcon('cloud-upload', __iconNode);\n\nexport default CloudUpload;\n","// client/src/pages/Admin/SettingsPage.js\r\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { fetchAppSettings, updateAppSettingsApi, getMyTenantProfileApi, updateMyTenantProfileApi, uploadTenantLogoApi } from '../../services/api';\r\nimport Card from '../../components/UI/Card';\r\nimport Input from '../../components/UI/Input';\r\nimport Button from '../../components/UI/Button';\r\nimport Spinner from '../../components/UI/Spinner';\r\nimport Select from '../../components/UI/Select'; \r\nimport { Save, Settings as SettingsIcon, AlertTriangle, CheckCircle2, UploadCloud } from 'lucide-react';\r\nconst PublicProfileManager = () => {\r\n    const { t } = useTranslation();\r\n    const [profile, setProfile] = useState({\r\n        name: '', publicAddress: '', publicPhone: '', publicEmail: '',\r\n        city: '', country: '', description: '', logoUrl: '', logoCloudinaryId: '', // Added logoCloudinaryId\r\n        isListedInDirectory: true,\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n\r\n    // --- NEW: State for file upload ---\r\n    const [logoPreview, setLogoPreview] = useState('');\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const fileInputRef = useRef(null); // Ref for the hidden file input\r\n\r\n    useEffect(() => {\r\n        const loadProfile = async () => {\r\n            setLoading(true); setError('');\r\n            try {\r\n                const { data } = await getMyTenantProfileApi();\r\n                setProfile(data);\r\n                setLogoPreview(data.logoUrl || ''); // Set initial logo preview\r\n            } catch (err) {\r\n                setError(t('settings.publicProfile.loadError'));\r\n                console.error(\"Load Tenant Profile Error:\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        loadProfile();\r\n    }, []);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        setProfile(prev => ({ ...prev, [name]: type === 'checkbox' ? checked : value }));\r\n    };\r\n\r\n    // --- NEW: Handler for file selection and upload ---\r\n    const handleFileChange = async (e) => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        if (file.size > 2 * 1024 * 1024) { // 2MB limit\r\n            setError(t('settings.publicProfile.logoError'));\r\n            return;\r\n        }\r\n\r\n        setLogoPreview(URL.createObjectURL(file)); // Show instant local preview\r\n        setIsUploading(true);\r\n        setError(''); // Clear previous errors\r\n\r\n        const uploadFormData = new FormData();\r\n        uploadFormData.append('logoImage', file); // 'logoImage' must match backend middleware\r\n\r\n        try {\r\n            // Use the correct API function for tenant logo uploads\r\n            const { data } = await uploadTenantLogoApi(uploadFormData);\r\n            // Update profile state with the new URL and Cloudinary ID from the backend\r\n            setProfile(prev => ({\r\n                ...prev,\r\n                logoUrl: data.imageUrl,\r\n                logoCloudinaryId: data.cloudinaryId\r\n            }));\r\n        } catch (err) {\r\n            console.error(\"Logo upload failed:\", err);\r\n            setError(err.response?.data?.message || t('settings.publicProfile.logoUploadError'));\r\n            setLogoPreview(profile.logoUrl || ''); // Revert preview to the last saved logo on failure\r\n        } finally {\r\n            setIsUploading(false);\r\n        }\r\n    };\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setSaving(true); setError(''); setSuccess('');\r\n        try {\r\n            // The `profile` state already contains the new logoUrl and logoCloudinaryId\r\n            const { data } = await updateMyTenantProfileApi(profile);\r\n            setProfile(data); // Re-sync state with saved data\r\n            setLogoPreview(data.logoUrl || ''); // Update preview with confirmed URL\r\n            setSuccess(t('settings.publicProfile.saveSuccess'));\r\n        } catch (err) {\r\n            setError(err.response?.data?.message || t('settings.publicProfile.saveError'));\r\n            console.error(\"Save Tenant Profile Error:\", err);\r\n        } finally {\r\n            setSaving(false);\r\n            setTimeout(() => { setSuccess(''); setError(''); }, 4000);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"p-4 flex justify-center\"><Spinner /></div>;\r\n    // The main error display is now inside the form for better context\r\n    // if (error && !loading) return ...\r\n\r\n    return (\r\n        <Card title={t('settings.publicProfile.title')} className=\"mb-8 shadow-apple-md\">\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"p-4 space-y-4\">\r\n                    {success && <p className=\"p-3 text-sm bg-green-100 text-apple-green rounded-apple flex items-center\"><CheckCircle2 size={18} className=\"mr-2\"/>{success}</p>}\r\n                    {error && <p className=\"p-3 text-sm bg-red-100 text-apple-red rounded-apple flex items-center\"><AlertTriangle size={18} className=\"mr-2\"/>{error}</p>}\r\n                    <p className=\"text-sm text-apple-gray-500 dark:text-apple-gray-400\">\r\n                        {t('settings.publicProfile.description')}\r\n                    </p>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4\">\r\n                        <Input label={t('settings.publicProfile.businessName')} id=\"name\" name=\"name\" value={profile.name || ''} onChange={handleChange} disabled helperText={t('settings.publicProfile.businessNameHelper')}/>\r\n                        <Input label={t('settings.publicProfile.publicPhone')} id=\"publicPhone\" name=\"publicPhone\" value={profile.publicPhone || ''} onChange={handleChange} />\r\n                        <Input label={t('settings.publicProfile.publicEmail')} id=\"publicEmail\" name=\"publicEmail\" type=\"email\" value={profile.publicEmail || ''} onChange={handleChange} />\r\n                        <Input label={t('settings.publicProfile.city')} id=\"city\" name=\"city\" value={profile.city || ''} onChange={handleChange} />\r\n                        <Input label={t('settings.publicProfile.country')} id=\"country\" name=\"country\" value={profile.country || ''} onChange={handleChange} />\r\n                        <div className=\"md:col-span-2\">\r\n                            <Input label={t('settings.publicProfile.publicAddress')} id=\"publicAddress\" name=\"publicAddress\" value={profile.publicAddress || ''} onChange={handleChange} />\r\n                        </div>\r\n                        <div className=\"md:col-span-2\">\r\n                            <label htmlFor=\"description\" className=\"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300\">{t('settings.publicProfile.shortDescription')}</label>\r\n                            <textarea id=\"description\" name=\"description\" rows=\"3\" value={profile.description || ''} onChange={handleChange} className=\"form-textarea mt-1 block w-full text-black rounded-apple-md\" placeholder={t('settings.publicProfile.descriptionPlaceholder')} />\r\n                        </div>\r\n\r\n                        {/* --- MODIFIED LOGO SECTION --- */}\r\n                        <div className=\"md:col-span-2\">\r\n                            <label className=\"block text-sm font-medium mb-1\">{t('settings.publicProfile.businessLogo')}</label>\r\n                            <div className=\"mt-1 flex items-center gap-4\">\r\n                                <div className=\"w-24 h-24 rounded-lg bg-apple-gray-100 dark:bg-apple-gray-800 flex items-center justify-center overflow-hidden\">\r\n                                    {isUploading ? <Spinner /> : logoPreview ? (\r\n                                        <img src={logoPreview} alt=\"Logo Preview\" className=\"w-full h-full object-cover\" />\r\n                                    ) : (\r\n                                        <UploadCloud size={32} className=\"text-apple-gray-400\" />\r\n                                    )}\r\n                                </div>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    ref={fileInputRef}\r\n                                    onChange={handleFileChange}\r\n                                    className=\"hidden\"\r\n                                    accept=\"image/png, image/jpeg, image/webp\"\r\n                                />\r\n                                <Button type=\"button\" variant=\"secondary\" onClick={() => fileInputRef.current.click()} disabled={isUploading}>\r\n                                    {isUploading ? t('settings.publicProfile.uploading') : t('settings.publicProfile.uploadImage')}\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                        {/* --- END OF MODIFIED LOGO SECTION --- */}\r\n                        \r\n                        <div className=\"md:col-span-2 flex items-center space-x-3 mt-2\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                id=\"isListedInDirectory\"\r\n                                name=\"isListedInDirectory\"\r\n                                checked={profile.isListedInDirectory}\r\n                                onChange={handleChange}\r\n                                className=\"form-checkbox h-5 w-5 text-apple-blue\"\r\n                            />\r\n                            <label htmlFor=\"isListedInDirectory\" className=\"text-sm font-medium\">{t('settings.publicProfile.listInDirectory')}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex justify-end p-4 bg-apple-gray-50 dark:bg-apple-gray-800/50 border-t\">\r\n                    <Button type=\"submit\" isLoading={saving} iconLeft={<Save size={16} />}>{t('settings.publicProfile.saveProfile')}</Button>\r\n                </div>\r\n            </form>\r\n        </Card>\r\n    );\r\n};\r\n\r\nconst SettingsPage = () => {\r\n    const { t } = useTranslation();\r\n    const [settings, setSettings] = useState({\r\n        companyInfo: { name: '', address: '', phone: '', logoUrl: '' },\r\n        notificationTemplates: {\r\n            subject: '',\r\n            readyForPickupBody: '',\r\n            manualReminderSubject: '',\r\n            manualReminderBody: '',\r\n            whatsappOrderReadySid: '', // Added for form binding\r\n            whatsappManualReminderSid: '' // Added for form binding\r\n        },\r\n        defaultCurrencySymbol: 'FCFA',\r\n        preferredNotificationChannel: 'whatsapp',\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n\r\n    const loadSettings = useCallback(async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const { data } = await fetchAppSettings();\r\n            setSettings(prev => ({\r\n                companyInfo: { ...(prev.companyInfo || {}), ...(data.companyInfo || {}) },\r\n                notificationTemplates: { ...(prev.notificationTemplates || {}), ...(data.notificationTemplates || {}) },\r\n                defaultCurrencySymbol: data.defaultCurrencySymbol || prev.defaultCurrencySymbol,\r\n                preferredNotificationChannel: data.preferredNotificationChannel || prev.preferredNotificationChannel,\r\n            }));\r\n        } catch (err) {\r\n            setError(err.response?.data?.message || t('settings.messages.loadError'));\r\n            console.error(\"Load settings error:\", err.response || err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        loadSettings();\r\n    }, [loadSettings]);\r\n\r\n    const handleDeepChange = (path, value) => {\r\n        setSettings(prev => {\r\n            const newSettings = JSON.parse(JSON.stringify(prev));\r\n            let current = newSettings;\r\n            for (let i = 0; i < path.length - 1; i++) {\r\n                if (!current[path[i]]) current[path[i]] = {};\r\n                current = current[path[i]];\r\n            }\r\n            current[path[path.length - 1]] = value;\r\n            return newSettings;\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setSaving(true);\r\n        setError('');\r\n        setSuccessMessage('');\r\n\r\n        // Prepare payload, removing any internal fields from the object\r\n        const payload = { ...settings };\r\n        ['singletonKey', '_id', '__v', 'createdAt', 'updatedAt'].forEach(key => delete payload[key]);\r\n\r\n        try {\r\n            const response = await updateAppSettingsApi(payload);\r\n            if (response && response.data) {\r\n                const updatedSettingsResponse = response.data;\r\n                // Re-sync state with what backend confirmed was saved\r\n                setSettings(prev => ({\r\n                    companyInfo: { ...(prev.companyInfo || {}), ...(updatedSettingsResponse.companyInfo || {}) },\r\n                    notificationTemplates: { ...(prev.notificationTemplates || {}), ...(updatedSettingsResponse.notificationTemplates || {}) },\r\n                    defaultCurrencySymbol: updatedSettingsResponse.defaultCurrencySymbol || prev.defaultCurrencySymbol,\r\n                    preferredNotificationChannel: updatedSettingsResponse.preferredNotificationChannel || prev.preferredNotificationChannel,\r\n                }));\r\n                setSuccessMessage(t('settings.messages.saveSuccess'));\r\n            } else {\r\n                setError(t('settings.messages.unexpectedResponse'));\r\n            }\r\n        } catch (err) {\r\n            const errorMessage = err.response?.data?.message || err.message || t('settings.messages.saveError');\r\n            setError(errorMessage);\r\n            console.error(\"Save settings error caught:\", err.response || err.message || err);\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        let timer;\r\n        if (successMessage || error) {\r\n            timer = setTimeout(() => { setSuccessMessage(''); setError(''); }, 5000);\r\n        }\r\n        return () => clearTimeout(timer);\r\n    }, [successMessage, error]);\r\n\r\n    if (loading) { return ( <div className=\"flex justify-center items-center h-64\"><Spinner size=\"lg\" /></div> ); }\r\n    if (error && (!settings || !settings.companyInfo)) {\r\n        return (\r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center space-x-3 mb-6\">\r\n                    <SettingsIcon size={28} className=\"text-apple-blue\" />\r\n                    <h1 className=\"text-2xl sm:text-3xl font-semibold text-apple-gray-800 dark:text-apple-gray-100\">\r\n                        {t('settings.title')}\r\n                    </h1>\r\n                </div>\r\n                <div className=\"p-4 text-center text-apple-red bg-red-50 dark:bg-red-900/30 rounded-apple border border-red-200 dark:border-red-700\">\r\n                    <AlertTriangle size={32} className=\"mx-auto mb-2\" />\r\n                    <p>{error}</p>\r\n                    <Button onClick={loadSettings} variant=\"secondary\" className=\"mt-3\">{t('settings.actions.tryAgain')}</Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center space-x-3 mb-6\">\r\n                <SettingsIcon size={28} className=\"text-apple-blue\" />\r\n                <h1 className=\"text-2xl sm:text-3xl font-semibold text-apple-gray-800 dark:text-apple-gray-100\">\r\n                    {t('settings.title')}\r\n                </h1>\r\n            </div>\r\n             <PublicProfileManager />\r\n            {successMessage && ( <div className=\"p-3 mb-4 bg-green-100 text-apple-green rounded-apple border border-green-300 dark:border-green-700 dark:text-green-300 dark:bg-green-900/30\"> <div className=\"flex items-center\"><CheckCircle2 size={20} className=\"mr-2 flex-shrink-0\" /><span>{successMessage}</span></div> </div> )}\r\n            {error && !successMessage && ( <div className=\"p-3 mb-4 bg-red-100 text-apple-red rounded-apple border border-red-300 dark:border-red-700 dark:text-red-300 dark:bg-red-900/30\"> <div className=\"flex items-center\"><AlertTriangle size={20} className=\"mr-2 flex-shrink-0\" /><span>{error}</span></div> </div> )}\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <Card title={t('settings.companyInfo.title')} className=\"mb-8 shadow-apple-md\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-1\">\r\n                        <Input label={t('settings.companyInfo.companyName')} id=\"companyName\" value={settings.companyInfo?.name || ''} onChange={(e) => handleDeepChange(['companyInfo', 'name'], e.target.value)} />\r\n                        <Input label={t('settings.companyInfo.companyPhone')} id=\"companyPhone\" value={settings.companyInfo?.phone || ''} onChange={(e) => handleDeepChange(['companyInfo', 'phone'], e.target.value)} />\r\n                        <div className=\"md:col-span-2\"> <Input label={t('settings.companyInfo.companyAddress')} id=\"companyAddress\" value={settings.companyInfo?.address || ''} onChange={(e) => handleDeepChange(['companyInfo', 'address'], e.target.value)} /> </div>\r\n                        <div className=\"md:col-span-2\"> <Input label={t('settings.companyInfo.logoUrl')} id=\"companyLogoUrl\" value={settings.companyInfo?.logoUrl || ''} onChange={(e) => handleDeepChange(['companyInfo', 'logoUrl'], e.target.value)} /> </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                <Card title={t('settings.notifications.title')} className=\"mb-8 shadow-apple-md\">\r\n                    <Input label={t('settings.notifications.defaultSubject')} id=\"defaultSubject\" value={settings.notificationTemplates?.subject || ''} onChange={(e) => handleDeepChange(['notificationTemplates', 'subject'], e.target.value)} className=\"mb-6\" helperText={t('settings.notifications.subjectHelper')} />\r\n                    <div className=\"mb-6\">\r\n                        <label htmlFor=\"readyForPickupBody\" className=\"block text-sm font-medium mb-1\">{t('settings.notifications.readyForPickupBody')}</label>\r\n                        <textarea id=\"readyForPickupBody\" rows=\"6\" className=\"form-textarea block w-full sm:text-sm\" value={settings.notificationTemplates?.readyForPickupBody || ''} onChange={(e) => handleDeepChange(['notificationTemplates', 'readyForPickupBody'], e.target.value)} />\r\n                        <p className=\"mt-1 text-xs text-apple-gray-500\">{t('settings.notifications.bodyHelper')}</p>\r\n                    </div>\r\n                    {/* Add more template fields as needed */}\r\n\r\n                    <h4 className=\"text-md font-semibold mt-6 mb-2 border-t pt-4\">{t('settings.notifications.whatsappTemplates')}</h4>\r\n                    <p className=\"text-xs text-apple-gray-500 mb-4\">{t('settings.notifications.whatsappDescription')}</p>\r\n                    <Input label={t('settings.notifications.orderReadySid')} id=\"whatsappOrderReadySid\" value={settings.notificationTemplates?.whatsappOrderReadySid || ''} onChange={(e) => handleDeepChange(['notificationTemplates', 'whatsappOrderReadySid'], e.target.value)} className=\"mb-4\" helperText={t('settings.notifications.orderReadyHelper')} />\r\n                    <Input label={t('settings.notifications.manualReminderSid')} id=\"whatsappManualReminderSid\" value={settings.notificationTemplates?.whatsappManualReminderSid || ''} onChange={(e) => handleDeepChange(['notificationTemplates', 'whatsappManualReminderSid'], e.target.value)} helperText={t('settings.notifications.manualReminderHelper')} />\r\n                </Card>\r\n\r\n                <Card title={t('settings.general.title')} className=\"mb-8 shadow-apple-md\">\r\n                    <Input label={t('settings.general.currencySymbol')} id=\"defaultCurrencySymbol\" value={settings.defaultCurrencySymbol || ''} onChange={(e) => setSettings(prev => ({...prev, defaultCurrencySymbol: e.target.value}))} className=\"max-w-xs\" />\r\n                    <Select\r\n                        label={t('settings.general.notificationChannel')}\r\n                        id=\"preferredNotificationChannel\"\r\n                        value={settings.preferredNotificationChannel || 'whatsapp'}\r\n                        onChange={(e) => setSettings(prev => ({...prev, preferredNotificationChannel: e.target.value}))}\r\n                        options={[ \r\n                            { value: 'whatsapp', label: t('settings.general.channels.whatsapp') }, \r\n                            { value: 'email', label: t('settings.general.channels.email') }, \r\n                            { value: 'none', label: t('settings.general.channels.none') }\r\n                        ]}\r\n                        className=\"mt-4\"\r\n                        helperText={t('settings.general.channelHelper')}\r\n                    />\r\n                </Card>\r\n\r\n                <div className=\"flex justify-end pt-4\">\r\n                    <Button type=\"submit\" variant=\"primary\" isLoading={saving} iconLeft={<Save size={18} />}> {t('settings.actions.saveAll')} </Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SettingsPage;","// client/src/components/UI/Input.js\r\nimport React from 'react';\r\n\r\nconst Input = ({\r\n    label,\r\n    id,\r\n    type = \"text\",\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    error,\r\n    required,\r\n    className = '',\r\n    inputClassName = '',\r\n    disabled = false,\r\n    prefix, // For text prefix like '$'\r\n    prefixIcon,\r\n    suffixIcon, // Can be a JSX element like an icon or a button with an icon\r\n    helperText,\r\n    containerStyle, // For custom styling on the outer div\r\n    ...props\r\n}) => {\r\n    return (\r\n        \r\n        <div className={`mb-4 ${className}`} style={containerStyle}>\r\n            {label && (\r\n                <label htmlFor={id} className=\"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1\">\r\n                    {label}\r\n                </label>\r\n            )}\r\n            <div className=\"relative rounded-apple shadow-apple-sm\">\r\n                {prefix && (\r\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                        <span className=\"text-apple-gray-500 sm:text-sm\">{prefix}</span>\r\n                    </div>\r\n                )}\r\n                {prefixIcon && (\r\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                        {React.cloneElement(prefixIcon, { className: \"h-5 w-5 text-apple-gray-500 dark:text-apple-gray-400\"})}\r\n                    </div>\r\n                )}\r\n                <input\r\n                    type={type}\r\n                    id={id}\r\n                    name={id || props.name}\r\n                    value={value === null || value === undefined ? '' : value}\r\n                    onChange={onChange}\r\n                    placeholder={placeholder}\r\n                    required={required}\r\n                    disabled={disabled}\r\n                    className={`\r\n                        form-input block w-full sm:text-sm\r\n                        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\r\n                        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\r\n                        dark:placeholder-apple-gray-500 dark:focus:border-apple-blue\r\n                        rounded-apple shadow-apple-sm\r\n                        ${error ? 'border-apple-red focus:border-apple-red focus:ring-apple-red' : ''}\r\n                        ${prefix || prefixIcon ? 'pl-10' : 'px-3'}\r\n                        ${suffixIcon ? 'pr-10' : 'px-3'}\r\n                        ${inputClassName}\r\n                    `.trim().replace(/\\s+/g, ' ')}\r\n                    {...props}\r\n                />\r\n                {/* THIS IS THE CORRECTED LOGIC FOR THE SUFFIX ICON */}\r\n                {suffixIcon && (\r\n                     <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\r\n                        {/* This will render whatever JSX element is passed, e.g., a button */}\r\n                        {suffixIcon}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            {error && <p className=\"mt-1.5 text-xs text-apple-red\">{error}</p>}\r\n            {helperText && !error && <p className=\"mt-1.5 text-xs text-apple-gray-500 dark:text-apple-gray-400\">{helperText}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nconst Select = ({\r\n    label,\r\n    id,\r\n    value,\r\n    onChange,\r\n    options = [], // [{ value: 'val', label: 'Label' }, ...]\r\n    placeholder,\r\n    error,\r\n    required,\r\n    className = '',\r\n    selectClassName = '',\r\n    disabled = false,\r\n    ...props\r\n}) => {\r\n    const baseSelectClasses = `\r\n        form-select block w-full sm:text-sm\r\n        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\r\n        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\r\n        dark:focus:border-apple-blue\r\n        rounded-apple shadow-apple-sm\r\n    `;\r\n    const errorSelectClasses = `\r\n        border-apple-red focus:border-apple-red focus:ring-apple-red\r\n        dark:border-apple-red dark:focus:border-apple-red\r\n    `;\r\n\r\n    return (\r\n        <div className={`mb-4 ${className}`}>\r\n            {label && (\r\n                <label htmlFor={id} className=\"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1\">\r\n                    {label} {required && <span className=\"text-apple-red\">*</span>}\r\n                </label>\r\n            )}\r\n            <select\r\n                id={id}\r\n                name={id || props.name}\r\n                value={value}\r\n                onChange={onChange}\r\n                required={required}\r\n                disabled={disabled}\r\n                className={`\r\n                    ${baseSelectClasses}\r\n                    ${error ? errorSelectClasses : ''}\r\n                    ${selectClassName}\r\n                `.trim().replace(/\\s+/g, ' ')}\r\n                {...props}\r\n            >\r\n                {placeholder && <option value=\"\">{placeholder}</option>}\r\n                {options.map(option => (\r\n                    <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n            {error && <p className=\"mt-1.5 text-xs text-apple-red\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Select;","import React from 'react';\r\n\r\nconst Card = ({ children, className = '', title, actions, titleClassName='', contentClassName='', actionsClassName='' }) => {\r\n    return (\r\n        <div className={`bg-white dark:bg-apple-gray-900 rounded-apple-lg shadow-apple overflow-hidden ${className}`}>\r\n            {title && (\r\n                <div className={`px-4 py-4 sm:px-6 border-b border-apple-gray-200 dark:border-apple-gray-800 ${titleClassName}`}>\r\n                    {typeof title === 'string' ? (\r\n                        <h3 className=\"text-lg leading-6 font-semibold text-apple-gray-900 dark:text-apple-gray-100\">\r\n                            {title}\r\n                        </h3>\r\n                    ) : title }\r\n                </div>\r\n            )}\r\n            <div className={`p-4 sm:p-6 ${contentClassName}`}>\r\n                {children}\r\n            </div>\r\n            {actions && (\r\n                <div className={`px-4 py-3 sm:px-6 bg-apple-gray-50 dark:bg-apple-gray-950/50 border-t border-apple-gray-200 dark:border-apple-gray-800 ${actionsClassName}`}>\r\n                    {actions}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n"],"names":["CloudUpload","createLucideIcon","d","key","PublicProfileManager","t","useTranslation","profile","setProfile","useState","name","publicAddress","publicPhone","publicEmail","city","country","description","logoUrl","logoCloudinaryId","isListedInDirectory","loading","setLoading","saving","setSaving","error","setError","success","setSuccess","logoPreview","setLogoPreview","isUploading","setIsUploading","fileInputRef","useRef","useEffect","async","data","getMyTenantProfileApi","err","console","loadProfile","handleChange","e","value","type","checked","target","prev","_jsx","className","children","Spinner","Card","title","_jsxs","onSubmit","preventDefault","updateMyTenantProfileApi","_err$response2","_err$response2$data","response","message","setTimeout","CheckCircle2","size","AlertTriangle","Input","label","id","onChange","disabled","helperText","htmlFor","rows","placeholder","src","alt","UploadCloud","ref","file","files","URL","createObjectURL","uploadFormData","FormData","append","uploadTenantLogoApi","imageUrl","cloudinaryId","_err$response","_err$response$data","accept","Button","variant","onClick","current","click","isLoading","iconLeft","Save","SettingsPage","_settings$companyInfo","_settings$companyInfo2","_settings$companyInfo3","_settings$companyInfo4","_settings$notificatio","_settings$notificatio2","_settings$notificatio3","_settings$notificatio4","settings","setSettings","companyInfo","address","phone","notificationTemplates","subject","readyForPickupBody","manualReminderSubject","manualReminderBody","whatsappOrderReadySid","whatsappManualReminderSid","defaultCurrencySymbol","preferredNotificationChannel","successMessage","setSuccessMessage","loadSettings","useCallback","fetchAppSettings","_err$response3","_err$response3$data","handleDeepChange","path","newSettings","JSON","parse","stringify","i","length","timer","clearTimeout","SettingsIcon","payload","forEach","updateAppSettingsApi","updatedSettingsResponse","_err$response4","_err$response4$data","errorMessage","Select","options","_ref","required","inputClassName","prefix","prefixIcon","suffixIcon","containerStyle","props","style","React","undefined","trim","replace","selectClassName","map","option","actions","titleClassName","contentClassName","actionsClassName","CircleCheck","cx","cy","r"],"sourceRoot":""}