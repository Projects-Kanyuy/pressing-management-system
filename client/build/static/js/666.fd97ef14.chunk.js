/*! For license information please see 666.fd97ef14.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[666],{1360:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3280:(e,a,s)=>{s.d(a,{A:()=>t});var l=s(5043),r=s(579);const t=e=>{let{label:a,id:s,type:t="text",value:p,onChange:i,placeholder:c,error:d,required:n,className:m="",inputClassName:x="",disabled:o=!1,prefix:y,prefixIcon:g,suffixIcon:h,helperText:u,containerStyle:v,...b}=e;return(0,r.jsxs)("div",{className:`mb-4 ${m}`,style:v,children:[a&&(0,r.jsx)("label",{htmlFor:s,className:"block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-1",children:a}),(0,r.jsxs)("div",{className:"relative rounded-apple shadow-apple-sm",children:[y&&(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("span",{className:"text-apple-gray-500 sm:text-sm",children:y})}),g&&(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.cloneElement(g,{className:"h-5 w-5 text-apple-gray-500 dark:text-apple-gray-400"})}),(0,r.jsx)("input",{type:t,id:s,name:s||b.name,value:null===p||void 0===p?"":p,onChange:i,placeholder:c,required:n,disabled:o,className:`\n                        form-input block w-full sm:text-sm\n                        border-apple-gray-300 focus:border-apple-blue focus:ring-apple-blue\n                        dark:bg-apple-gray-800 dark:border-apple-gray-700 dark:text-apple-gray-100\n                        dark:placeholder-apple-gray-500 dark:focus:border-apple-blue\n                        rounded-apple shadow-apple-sm\n                        ${d?"border-apple-red focus:border-apple-red focus:ring-apple-red":""}\n                        ${y||g?"pl-10":"px-3"}\n                        ${h?"pr-10":"px-3"}\n                        ${x}\n                    `.trim().replace(/\s+/g," "),...b}),h&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:h})]}),d&&(0,r.jsx)("p",{className:"mt-1.5 text-xs text-apple-red",children:d}),u&&!d&&(0,r.jsx)("p",{className:"mt-1.5 text-xs text-apple-gray-500 dark:text-apple-gray-400",children:u})]})}},6260:(e,a,s)=>{s.d(a,{A:()=>r});s(5043);var l=s(579);const r=e=>{let{children:a,className:s="",title:r,actions:t,titleClassName:p="",contentClassName:i="",actionsClassName:c=""}=e;return(0,l.jsxs)("div",{className:`bg-white dark:bg-apple-gray-900 rounded-apple-lg shadow-apple overflow-hidden ${s}`,children:[r&&(0,l.jsx)("div",{className:`px-4 py-4 sm:px-6 border-b border-apple-gray-200 dark:border-apple-gray-800 ${p}`,children:"string"===typeof r?(0,l.jsx)("h3",{className:"text-lg leading-6 font-semibold text-apple-gray-900 dark:text-apple-gray-100",children:r}):r}),(0,l.jsx)("div",{className:`p-4 sm:p-6 ${i}`,children:a}),t&&(0,l.jsx)("div",{className:`px-4 py-3 sm:px-6 bg-apple-gray-50 dark:bg-apple-gray-950/50 border-t border-apple-gray-200 dark:border-apple-gray-800 ${c}`,children:t})]})}},6833:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7666:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var l=s(5043),r=s(4117),t=s(9621),p=s(6260),i=s(3280),c=s(722),d=s(7457),n=s(7719),m=s(6833),x=s(1360),o=s(9855),y=s(8693),g=s(2925),h=s(579);const u=()=>{const{t:e}=(0,r.Bd)(),[a,s]=(0,l.useState)({itemTypes:[],serviceTypes:[],defaultCurrencySymbol:"$"}),[g,u]=(0,l.useState)([]),[v,b]=(0,l.useState)(!0),[f,j]=(0,l.useState)(!1),[N,k]=(0,l.useState)(""),[T,A]=(0,l.useState)(""),[C,w]=(0,l.useState)(""),[S,$]=(0,l.useState)(""),z=a.defaultCurrencySymbol||"$",M=(0,l.useCallback)(async()=>{b(!0),k("");try{const[e,a]=await Promise.all([(0,t.V3)(),(0,t.$B)()]);s(e.data||{itemTypes:[],serviceTypes:[],defaultCurrencySymbol:"$"}),u(a.data||[])}catch(r){var a,l;k((null===(a=r.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||e("pricing.messages.loadError")),console.error("Pricing Page Load Error:",r)}finally{b(!1)}},[]);(0,l.useEffect)(()=>{M()},[M]);const P=(e,a)=>{s(s=>({...s,[a]:s[a].filter(a=>a!==e)})),"itemTypes"===a?u(a=>a.filter(a=>a.itemType!==e)):"serviceTypes"===a&&u(a=>a.filter(a=>a.serviceType!==e))};return v?(0,h.jsxs)("div",{className:"p-8 flex justify-center",children:[(0,h.jsx)(d.A,{size:"lg"}),(0,h.jsx)("p",{className:"mt-2 text-sm",children:e("pricing.loadingText")})]}):(0,h.jsxs)("div",{className:"space-y-6",children:[N&&(0,h.jsxs)("div",{className:"p-3 my-4 text-sm bg-red-100 text-apple-red rounded-apple flex items-center",children:[(0,h.jsx)(n.A,{size:18,className:"mr-2"}),N]}),T&&(0,h.jsxs)("div",{className:"p-3 my-4 text-sm bg-green-100 text-apple-green rounded-apple flex items-center",children:[(0,h.jsx)(m.A,{size:18,className:"mr-2"}),T]}),(0,h.jsxs)(p.A,{children:[(0,h.jsx)("h4",{className:"font-semibold text-lg mb-2 text-apple-gray-800 dark:text-apple-gray-100",children:e("pricing.itemTypes.title")}),(0,h.jsxs)("div",{className:"flex space-x-2 mb-3",children:[" ",(0,h.jsx)(i.A,{value:C,onChange:e=>w(e.target.value),placeholder:e("pricing.itemTypes.placeholder"),className:"mb-0 flex-grow"})," ",(0,h.jsx)(c.A,{type:"button",onClick:()=>{const e=C.trim();e&&!a.itemTypes.includes(e)&&s(a=>({...a,itemTypes:[...a.itemTypes,e]})),w("")},iconLeft:(0,h.jsx)(x.A,{size:16}),children:e("pricing.itemTypes.addItem")})," "]}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-2",children:[" ",a.itemTypes.map(a=>(0,h.jsxs)("span",{className:"flex items-center bg-apple-gray-200 dark:bg-apple-gray-700 text-sm rounded-full px-3 py-1",children:[" ",a," ",(0,h.jsx)("button",{onClick:()=>P(a,"itemTypes"),className:"ml-2 text-apple-gray-500 hover:text-apple-red","aria-label":e("pricing.itemTypes.removeItem",{item:a}),children:(0,h.jsx)(o.A,{size:14})})," "]},a))," "]})]}),(0,h.jsxs)(p.A,{children:[(0,h.jsx)("h4",{className:"font-semibold text-lg mb-2 text-apple-gray-800 dark:text-apple-gray-100",children:e("pricing.serviceTypes.title")}),(0,h.jsxs)("div",{className:"flex space-x-2 mb-3",children:[" ",(0,h.jsx)(i.A,{value:S,onChange:e=>$(e.target.value),placeholder:e("pricing.serviceTypes.placeholder"),className:"mb-0 flex-grow"})," ",(0,h.jsx)(c.A,{type:"button",onClick:()=>{const e=S.trim();e&&!a.serviceTypes.includes(e)&&s(a=>({...a,serviceTypes:[...a.serviceTypes,e]})),$("")},iconLeft:(0,h.jsx)(x.A,{size:16}),children:e("pricing.serviceTypes.addService")})," "]}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-2",children:[" ",a.serviceTypes.map(e=>(0,h.jsxs)("span",{className:"flex items-center bg-apple-gray-200 dark:bg-apple-gray-700 text-sm rounded-full px-3 py-1",children:[" ",e," ",(0,h.jsx)("button",{onClick:()=>P(e,"serviceTypes"),className:"ml-2 text-apple-gray-500 hover:text-apple-red","aria-label":`Remove ${e}`,children:(0,h.jsx)(o.A,{size:14})})," "]},e))," "]})]}),(0,h.jsxs)(p.A,{children:[(0,h.jsx)("h4",{className:"text-lg font-semibold mb-2 text-apple-gray-800 dark:text-apple-gray-100",children:e("pricing.priceMatrix.title")}),(0,h.jsx)("p",{className:"text-sm text-apple-gray-500 mb-4",children:e("pricing.priceMatrix.description")}),(0,h.jsx)("div",{className:"overflow-x-auto border rounded-md dark:border-apple-gray-700",children:(0,h.jsxs)("table",{className:"min-w-full text-sm",children:[(0,h.jsx)("thead",{className:"bg-apple-gray-100 dark:bg-apple-gray-800/50",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"p-2 text-left font-semibold text-apple-gray-700 dark:text-apple-gray-200",children:e("pricing.priceMatrix.itemType")}),a.serviceTypes.map(e=>(0,h.jsx)("th",{className:"p-2 text-center font-semibold text-apple-gray-700 dark:text-apple-gray-200",children:e},e))]})}),(0,h.jsx)("tbody",{children:a.itemTypes.map(s=>(0,h.jsxs)("tr",{className:"border-t dark:border-apple-gray-700",children:[(0,h.jsx)("td",{className:"p-2 font-semibold bg-apple-gray-100 dark:bg-apple-gray-800/50",children:s}),a.serviceTypes.map(a=>{var l,r;return(0,h.jsx)("td",{className:"p-1 sm:p-2 text-center",children:(0,h.jsx)(i.A,{type:"number",value:null!==(l=null===(r=g.find(e=>e.itemType===s&&e.serviceType===a))||void 0===r?void 0:r.price)&&void 0!==l?l:"",onChange:e=>((e,a,s)=>{const l=parseFloat(s),r=g.findIndex(s=>s.itemType===e&&s.serviceType===a);let t=[...g];r>-1?t[r].price=isNaN(l)?0:l:t.push({itemType:e,serviceType:a,price:isNaN(l)?0:l}),u(t)})(s,a,e.target.value),placeholder:e("pricing.priceMatrix.pricePlaceholder"),className:"mb-0 w-24 mx-auto",prefix:z})},a)})]},s))})]})})]}),(0,h.jsx)("div",{className:"flex justify-end mt-6",children:(0,h.jsx)(c.A,{onClick:async()=>{j(!0),k(""),A("");try{const{itemTypes:s,serviceTypes:l}=a;await Promise.all([(0,t.se)({itemTypes:s,serviceTypes:l}),(0,t.QP)({priceList:g})]),A(e("pricing.messages.saveSuccess"))}catch(r){var s,l;k((null===(s=r.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||e("pricing.messages.saveError")),console.error("Pricing Save Error:",r)}finally{j(!1),setTimeout(()=>{A(""),k("")},4e3)}},isLoading:f,iconLeft:(0,h.jsx)(y.A,{size:18}),size:"lg",children:e("pricing.actions.saveAll")})})]})},v=()=>{const{t:e}=(0,r.Bd)();return(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,h.jsx)(g.A,{size:28,className:"text-apple-blue"}),(0,h.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold text-apple-gray-800 dark:text-apple-gray-100",children:e("pricing.title")})]}),(0,h.jsx)(u,{})]})}},8693:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9855:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=666.fd97ef14.chunk.js.map