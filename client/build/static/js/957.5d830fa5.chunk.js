/*! For license information please see 957.5d830fa5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[957],{1286:(e,a,l)=>{l.d(a,{A:()=>s});const s=(0,l(7784).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},5327:(e,a,l)=>{l.d(a,{A:()=>s});const s=(0,l(7784).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},7957:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var s=l(5043),t=l(1283),r=l(9621),i=l(7457),c=l(722),n=l(1286),o=l(5327),p=l(8006),d=l(5731),x=l(7784);const h=(0,x.A)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),m=(0,x.A)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);var b=l(579);const u=e=>{let{icon:a,label:l,value:s,href:t}=e;if(!s||","===s.trim()||"not available"===s.trim().toLowerCase())return null;const r=t?(0,b.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"hover:text-apple-blue transition-colors break-all",children:s}):(0,b.jsx)("span",{className:"break-all",children:s});return(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 text-apple-gray-400 mt-1",children:a}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-apple-gray-500 dark:text-apple-gray-400",children:l}),(0,b.jsx)("p",{className:"font-semibold text-apple-gray-800 dark:text-white",children:r})]})]})},y=()=>{var e;const{slug:a}=(0,t.g)(),[l,x]=(0,s.useState)(null),[y,g]=(0,s.useState)([]),[f,j]=(0,s.useState)(!0),[v,N]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{j(!0),N("");try{const{data:e}=await(0,r.D9)(a);if(!e)throw new Error("Business not found");if(x(e),e._id){const{data:a}=await(0,r.ug)(e._id);g(a)}}catch(v){console.error("Failed to fetch business data:",v),N("The business you are looking for could not be found.")}finally{j(!1)}})()},[a]);const{itemTypes:k,serviceTypes:w,priceTable:A}=(0,s.useMemo)(()=>{if(!y||0===y.length)return{itemTypes:[],serviceTypes:[],priceTable:{}};const e=[...new Set(y.map(e=>e.itemType))].sort(),a=[...new Set(y.map(e=>e.serviceType))].sort(),l={};return e.forEach(e=>l[e]={}),y.forEach(e=>{e.itemType&&e.serviceType&&(l[e.itemType][e.serviceType]=e.price)}),{itemTypes:e,serviceTypes:a,priceTable:l}},[y]);if(f)return(0,b.jsx)("div",{className:"min-h-[60vh] flex justify-center items-center",children:(0,b.jsx)(i.A,{text:"Loading Business Profile..."})});if(v||!l)return(0,b.jsxs)("div",{className:"min-h-[60vh] flex flex-col justify-center items-center text-center p-4",children:[(0,b.jsx)("p",{className:"text-xl text-apple-red",children:v||"Business data could not be loaded."}),(0,b.jsx)(t.N_,{to:"/directory",className:"mt-4",children:(0,b.jsx)(c.A,{children:"Back to Directory"})})]});const T=l.bannerUrl||l.logoUrl||"https://images.unsplash.com/photo-1626802393339-b4f728b26b6a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNzEyNjZ8MHwxfHNlYXJjaHw3fHxMYXVuZHJ5fGVufDB8MHx8fDE3MjE2Nzg0MDR8MA&ixlib=rb-4.0.3&q=80&w=1080";return(0,b.jsx)("div",{className:"bg-apple-gray-50 dark:bg-apple-gray-950",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-12 md:py-16",children:(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8 lg:gap-12",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,b.jsx)("div",{className:"h-64 rounded-xl bg-cover bg-center bg-gray-200 dark:bg-apple-gray-800 shadow-lg",style:{backgroundImage:`url(${T})`},role:"img","aria-label":`${l.name} banner`}),(0,b.jsxs)("div",{className:"bg-white dark:bg-apple-gray-900 p-6 rounded-xl shadow-sm",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-apple-gray-900 dark:text-white",children:["About ",l.name]}),(0,b.jsx)("p",{className:"text-apple-gray-600 dark:text-apple-gray-300 whitespace-pre-wrap",children:l.description||"No description provided."})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-apple-gray-900 p-6 rounded-xl shadow-sm",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4 text-apple-gray-900 dark:text-white",children:"Price List"}),y.length>0?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"border-b dark:border-apple-gray-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"font-semibold p-3 text-apple-gray-800 dark:text-apple-gray-200",children:"Item Type"}),w.map(e=>(0,b.jsx)("th",{className:"font-semibold p-3 text-center text-apple-gray-800 dark:text-apple-gray-200",children:e},e))]})}),(0,b.jsx)("tbody",{children:k.map(e=>(0,b.jsxs)("tr",{className:"border-b dark:border-apple-gray-800",children:[(0,b.jsx)("td",{className:"font-medium p-3 text-apple-gray-700 dark:text-apple-gray-200",children:e}),w.map(a=>{var l;return(0,b.jsx)("td",{className:"p-3 text-center text-apple-gray-600 dark:text-apple-gray-300",children:null!==(l=A[e])&&void 0!==l&&l[a]&&A[e][a]>0?`${A[e][a].toLocaleString("fr-FR")} FCFA`:(0,b.jsx)("span",{className:"text-apple-gray-400",children:"-"})},a)})]},e))})]})}):(0,b.jsx)("p",{className:"text-apple-gray-500",children:"Price list is not available for this business."})]})]}),(0,b.jsx)("aside",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-apple-gray-900 p-6 rounded-xl shadow-sm space-y-6 sticky top-24",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center text-center pb-6 border-b dark:border-apple-gray-700",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-apple-gray-100 dark:bg-apple-gray-700 mb-4 flex items-center justify-center overflow-hidden",children:l.logoUrl?(0,b.jsx)("img",{src:l.logoUrl,alt:`${l.name} logo`,className:"w-full h-full object-cover"}):(0,b.jsx)("span",{className:"text-4xl font-bold text-apple-blue",children:null===(e=l.name)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-apple-gray-900 dark:text-white",children:l.name})]}),(0,b.jsx)("h2",{className:"text-xl font-bold text-apple-gray-900 dark:text-white",children:"Contact Information"}),(0,b.jsx)(u,{icon:(0,b.jsx)(n.A,{size:20}),label:"Phone",value:l.publicPhone,href:`tel:${l.publicPhone}`}),(0,b.jsx)(u,{icon:(0,b.jsx)(o.A,{size:20}),label:"Email",value:l.publicEmail,href:`mailto:${l.publicEmail}`}),(0,b.jsx)(u,{icon:(0,b.jsx)(p.A,{size:20}),label:"Location",value:l.city&&l.country?`${l.city}, ${l.country}`:l.city||l.country}),(0,b.jsxs)("div",{className:"border-t dark:border-apple-gray-700 pt-6",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4 text-apple-gray-800 dark:text-white",children:"Social Media"}),(0,b.jsxs)("div",{className:"flex gap-4 text-apple-gray-500",children:[(0,b.jsx)("a",{href:"#",className:"hover:text-apple-blue",children:(0,b.jsx)(d.A,{size:20})}),(0,b.jsx)("a",{href:"#",className:"hover:text-apple-blue",children:(0,b.jsx)(h,{size:20})}),(0,b.jsx)("a",{href:"#",className:"hover:text-apple-blue",children:(0,b.jsx)(m,{size:20})})]})]}),(0,b.jsx)(c.A,{onClick:()=>{if(null===l||void 0===l||!l.publicPhone)return;const e=l.publicPhone.replace(/\s/g,"").replace("+",""),a=`Hello ${l.name}, I found you on PressMark and would like to inquire about your services.`,s=`https://wa.me/${e}?text=${encodeURIComponent(a)}`;window.open(s,"_blank")},className:"w-full mt-4",variant:"primary",disabled:!l.publicPhone,children:"Contact via WhatsApp"})]})})]})})})}},8006:(e,a,l)=>{l.d(a,{A:()=>s});const s=(0,l(7784).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])}}]);
//# sourceMappingURL=957.5d830fa5.chunk.js.map